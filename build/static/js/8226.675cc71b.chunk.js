"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8226],{68226:(e,l,t)=>{t.d(l,{Z:()=>_});var i=t(72791),d=t(16871),n=(t(54164),t(39159)),s=t(59434),a=t(34418),o=t(67521),r=t(55886),c=t(96067),u=t(87311),m=t(45629),v=t(80184);document.getElementById("root-modals")||document.body;const x=e=>{var l;let{show:t,handleClose:d,employeeDocData:x,userId:h}=e;const p=(0,s.I0)(),[y,g]=(0,i.useState)(null),[j,f]=(0,i.useState)(x),N=(0,s.v9)(o.iJ),[b,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>{p((0,a.BP)())}),[]),(0,i.useEffect)((()=>{f(x)}),[x]);const _=(0,i.useCallback)((()=>{var e;w(!0);let l=new FormData;if(l.append("user_id",h),l.append("document_type_id",null!==(e=null===j||void 0===j?void 0:j.document_type_id)&&void 0!==e?e:1),l.append("description",null===j||void 0===j?void 0:j.description),(null===y||void 0===y?void 0:y.length)>0)for(let t=0;t<(null===y||void 0===y?void 0:y.length);t++)l.append("image[]",null===y||void 0===y?void 0:y[t]);null!==j&&void 0!==j&&j.id?(l.append("id",null===j||void 0===j?void 0:j.id),(0,n.YAX)(l).then((()=>{c.Z.success("Document updated"),d()})).catch((e=>{c.Z.error((0,u.oN)(e))})).finally((()=>{w(!1)}))):(0,n.hhN)(l).then((()=>{c.Z.success("Document Added"),d()})).catch((e=>{c.Z.error((0,u.oN)(e))})).finally((()=>{w(!1)}))}),[null===j||void 0===j?void 0:j.description,null===j||void 0===j?void 0:j.document_type_id,null===j||void 0===j?void 0:j.id,d,y,h]),S=e=>{var l,t;D(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.name,null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},D=(e,l)=>{f((t=>({...t,[e]:l})))};return(0,v.jsxs)(m.Z,{show:t,onHide:d,maxWidth:"1000",title:"Upload New Documents",children:[(0,v.jsx)(r.Z,{full:!0,visible:b}),(0,v.jsxs)("div",{className:"mx-sm-auto mt-15 mb-20 w-sm-400px mx-5",children:[(0,v.jsxs)("div",{className:"mb-15",children:[(0,v.jsxs)("label",{className:"form-label text-cmGrey800 mb-5",style:{fontWeight:600},children:["Upload new documents (",(0,v.jsx)("span",{className:"text-cmError",children:"*"})," is mandatory)"]}),(0,v.jsxs)("select",{className:"form-select text-cmGrey700 bg-cmGrey200 border border-0 cursor-pointer",style:{fontWeight:600},onChange:S,name:"document_type_id",value:null===j||void 0===j?void 0:j.document_type_id,children:[(0,v.jsx)("option",{value:"",children:"Select document type"}),null===N||void 0===N?void 0:N.map(((e,l)=>(0,v.jsx)("option",{value:e.id,style:{fontWeight:600},children:e.document_type},l)))]})]}),(0,v.jsxs)("div",{className:"mb-15",children:[(0,v.jsx)("label",{className:"form-labeltext-cmGrey800 mb-5",style:{fontWeight:600},children:"description"}),(0,v.jsx)("textarea",{type:"text",className:"form-control bg-cmbg",placeholder:"Add here",name:"description",defaultValue:null===j||void 0===j?void 0:j.description,onChange:S})]}),(0,v.jsxs)("div",{className:"mb-15",children:[(0,v.jsxs)("label",{className:"form-labeltext-cmGrey800 mb-5",style:{fontWeight:600},children:["Images or documents (maximum 5 MB each)",(0,v.jsx)("span",{className:"text-cmError",children:"*"})]}),(0,v.jsx)("input",{type:"file",className:"form-control bg-cmbg",required:!0,multiple:!0,onChange:e=>{var l;g(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.files)},name:"image"}),(0,v.jsx)("div",{style:{marginTop:20},children:(null===j||void 0===j?void 0:j.document)&&(null===j||void 0===j||null===(l=j.document)||void 0===l?void 0:l.length)>0&&j.document.map((e=>(0,v.jsx)("div",{className:"bg-cmGrey100",style:{padding:5,paddingLeft:10,borderRadius:10},children:(0,v.jsx)("span",{style:{fontFamily:""},children:e.document})},null===e||void 0===e?void 0:e.document)))})]}),(0,v.jsx)("div",{className:"text-center",children:(0,v.jsx)("button",{className:"btn bg-cmBlue-Crayola text-cmwhite w-sm-250px ",style:{fontWeight:700,fontSize:"16px"},onClick:_,children:"edit"==(null===x||void 0===x?void 0:x.id)?"Update Documents":"Upload Documents"})})]})]})};var h=t(83023);const p=e=>{let{employeeData:l,onSelectedModal:t,loading:i,documentData:d,deleteDocument:n,userId:s,getDocument:a}=e;return(0,v.jsxs)("div",{className:"table-responsive shadow-sm overflow-auto bg-cmwhite ",style:{borderRadius:"10px",position:"relative"},children:[(0,v.jsx)(r.Z,{visible:i,full:!0}),(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{className:u.fd,children:(0,v.jsxs)("tr",{className:"bg-cmGrey300 text-cmGrey900",style:{fontSize:"14px",fontWeight:"700",fontFamily:"Manrope"},children:[(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Type"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Uploaded Date"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Attachments"}),(0,v.jsx)("th",{})]})}),(0,v.jsx)("tbody",{className:u.fd,children:(null===d||void 0===d?void 0:d.length)>0?(0,v.jsx)(v.Fragment,{children:null===d||void 0===d?void 0:d.map(((e,t)=>{var i;return((null===e||void 0===e||null===(i=e.document)||void 0===i?void 0:i.length)>0||!(null!==e&&void 0!==e&&e.is_deleted))&&(0,v.jsx)(h.Z,{employeeData:l,item:e,index:t,userId:s,getDocument:a},t)}))}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:5,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:"No data found"})})})]})]})};var y=t(19739),g=(t(14565),t(32092)),j=t(60070),f=t(76033),N=t(13524),b=(t(74569),t(94252)),w=t(49861);t(64802);const _=e=>{var l,t,s,a,o;let{employeeData:u}=e,m=(0,d.TH)();const[h,_]=(0,i.useState)(null),[S,D]=(0,i.useState)(null),[C,G]=(0,i.useState)(null),[Z,W]=(0,i.useState)(!0),[z,B]=(0,i.useState)(!1),[k,F]=(0,i.useState)([]),[M,I]=(0,i.useState)(0),[E,R]=(0,i.useState)(null);(0,i.useEffect)((()=>{var e;null!==m&&void 0!==m&&null!==(e=m.state)&&void 0!==e&&e.isOnBoarding&&I(1),A(),T()}),[null===m||void 0===m||null===(l=m.state)||void 0===l?void 0:l.employee_id]);const T=(0,i.useCallback)((()=>{var e,l,t;null!==m&&void 0!==m&&null!==(e=m.state)&&void 0!==e&&e.isOnBoarding?(0,n.SHi)(null===m||void 0===m||null===(l=m.state)||void 0===l?void 0:l.employee_id).then((e=>{var l;G(null===e||void 0===e?void 0:e.data),null!==m&&void 0!==m&&null!==(l=m.state)&&void 0!==l&&l.isOnBoarding&&R(null===e||void 0===e?void 0:e.message)})).finally((()=>{W(!1)})):(0,n.Zv$)(null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.employee_id).then((e=>{G(null===e||void 0===e?void 0:e.data)})).finally((()=>{W(!1)}))}),[null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.employee_id,M]),A=()=>{var e,l;null!==m&&void 0!==m&&null!==(e=m.state)&&void 0!==e&&e.isOnBoarding||(W(!0),(0,n._sr)(null===m||void 0===m||null===(l=m.state)||void 0===l?void 0:l.employee_id).then((e=>{_(e)})).finally((()=>{W(!1)})))},O=(0,i.useCallback)((e=>{var l,t;const i={...h},d=null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.filter((l=>(null===l||void 0===l?void 0:l.id)!==e));i.data=d,_(i),c.Z.success("Document Deleted");const s={user_id:null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.employee_id,id:e};(0,n.GPL)(s)}),[h,null===m||void 0===m||null===(s=m.state)||void 0===s?void 0:s.employee_id]),U=(0,i.useMemo)((()=>{var e;let l=0;return null===h||void 0===h||null===(e=h.data)||void 0===e||e.map((e=>{var t,i;return l+=null!==(t=null===e||void 0===e||null===(i=e.document)||void 0===i?void 0:i.length)&&void 0!==t?t:0})),l}),[null===h||void 0===h?void 0:h.data]),Y=(0,i.useMemo)((()=>{let e=[];return C&&(e=Object.values(null===C||void 0===C?void 0:C.reduce(((e,l)=>{var t;const{categery_id:i,categories:d}=l;return e[i]=e[i]||{categery_id:i,categories:d,items:[]},null===(t=e[i])||void 0===t||t.items.push(l),e}),{}))),e}),[C]);const q=(0,i.useCallback)((e=>{if(null===e||void 0===e||!e.is_active)return"Inactive";switch(null===e||void 0===e?void 0:e.document_response_status){case 0:default:return"Not Signed";case 1:return"Signed";case 2:return"Rejected";case 5:return"Expired";case 6:return"Request Change"}}),[]);return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)(y.f,{activeIndex:M,onTabChange:e=>I(e.index),children:[(0,v.jsx)(y.x,{headerClassName:"text-cmGrey700",header:"Document",headerStyle:{fontFamily:j.t.manrope},children:(0,v.jsxs)("div",{className:"mb-10 ",style:{borderRadius:"10px"},children:[(0,v.jsx)("div",{className:"mx-10 p-5 d-flex justify-content-between align-items-center",style:{fontWeight:600,fontFamily:"Manrope"},children:(0,v.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,v.jsx)("div",{className:"text-cmGrey900",style:{fontSize:"14px"},children:"Total Documents:"}),(0,v.jsx)("div",{className:"text-cmGrey900",style:{fontSize:"16px",fontWeight:800},children:U})]})}),(0,v.jsx)(p,{employeeData:u,onSelectedModal:(e,l)=>{"edit"==l&&B(!0),D(e)},loading:Z,documentData:null===h||void 0===h?void 0:h.data,deleteDocument:O,userId:null===m||void 0===m||null===(a=m.state)||void 0===a?void 0:a.employee_id,getDocument:A})]})}),(0,v.jsx)(y.x,{headerClassName:"text-cmGrey700",header:"Signed Document",headerStyle:{fontFamily:j.t.manrope},children:(0,v.jsxs)("div",{className:"table-responsive shadow-sm overflow-auto bg-cmwhite ",style:{borderRadius:"10px",position:"relative"},children:[(0,v.jsx)(r.Z,{visible:Z,full:!0}),(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"bg-cmGrey300 text-cmGrey900",style:{fontSize:"14px",fontWeight:700,fontFamily:j.t.manrope},children:[(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Name"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Description"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Document Send Date"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Document"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Status"}),(0,v.jsx)("th",{className:"w-auto p-5 text-nowrap",children:"Comment"}),(0,v.jsx)("th",{}),(0,v.jsx)("th",{})]})}),(0,v.jsx)("tbody",{className:"border-top border-5 border-cmwhite",children:(null===Y||void 0===Y?void 0:Y.length)>0?null===Y||void 0===Y?void 0:Y.map(((e,l)=>{var t,i;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("tr",{className:"text-cmGrey900 bg-cmGrey200 ",style:{fontSize:"14px",fontWeight:700},children:(0,v.jsx)("td",{colSpan:9,className:" p-5 ps-10 text-nowrap",children:(0,v.jsxs)("div",{className:"d-flex align-items-center gap-5",children:[(0,v.jsx)("div",{style:{fontSize:16},children:null===e||void 0===e?void 0:e.categories}),(0,v.jsxs)("div",{className:"d-flex flex-center gap-2",children:[(0,v.jsx)(f.D8,{path:"/media/icons/duotune/art/document-text.svg",className:"cursor-pointer",svgClassName:"w-15px h-15px"}),(0,v.jsx)("span",{className:"text-cmGrey600",children:null===e||void 0===e||null===(t=e.items)||void 0===t?void 0:t.length})]}),(0,v.jsx)("div",{className:"mt-1",children:(0,v.jsx)(w.Z,{arrowDirection:null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e.categery_id)?w.e.down:w.e.right,onClick:()=>(e=>{let l=[...k];l.some((l=>l==e))?l=l.filter((l=>l!=e)):l.push(e),F(l)})(null===e||void 0===e?void 0:e.categery_id)})})]})})},e.categery_id),null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e.categery_id)?null===e||void 0===e||null===(i=e.items)||void 0===i?void 0:i.map((e=>(0,v.jsxs)("tr",{className:"text-cmGrey800 stripRow  ",style:{fontSize:"14px",fontWeight:600},children:[(0,v.jsx)("td",{className:"p-5 text-nowrap text-cmGrey800 ",children:null===e||void 0===e?void 0:e.template_name}),(0,v.jsx)("td",{className:"p-5  text-cmGrey500",children:null===e||void 0===e?void 0:e.description}),(0,v.jsx)("td",{className:"p-5 text-nowrap text-cmGrey800",children:(0,N.Kj)(null===e||void 0===e?void 0:e.document_send_date,"MM/DD/YYYY")}),(0,v.jsx)("td",{className:"p-5 text-nowrap",children:null!==e&&void 0!==e&&e.signed_status?(0,v.jsx)("a",{href:null===e||void 0===e?void 0:e.signed_document_s3,rel:"noreferrer",target:"_blank",children:(0,v.jsxs)("span",{className:"bg-cmBlue-Crayola rounded-pill text-cmBlue-Crayola bg-opacity-10 p-2 cursor-pointer",children:[(0,v.jsx)("i",{className:"fa-solid fa-paperclip text-cmBlue-Crayola pe-2"}),(0,v.jsx)("span",{children:1})]})}):null}),(0,v.jsx)("td",{children:q(e)}),(0,v.jsx)("td",{children:null!==e&&void 0!==e&&e.user_request_change_message?(0,v.jsx)(b.Z,{title:null===e||void 0===e?void 0:e.user_request_change_message,children:(0,v.jsx)("i",{className:"bi bi-chat-fill text-warning",style:{fontSize:20}})}):"No Comment"})]},null===e||void 0===e?void 0:e.id))):null]})})):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:6,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:E||(0,v.jsx)(g.Z,{label:"No data found"})})},"no-data")})]})]})})]})}),z&&(0,v.jsx)(x,{show:z,handleClose:()=>{D(null),A(),B(!1)},employeeDocData:S,userId:null===m||void 0===m||null===(o=m.state)||void 0===o?void 0:o.employee_id})]})}},94252:(e,l,t)=>{t.d(l,{Z:()=>n});var i=t(20511),d=t(80184);const n=e=>{let{title:l="",style:t,children:n,className:s}=e;return n?(0,d.jsx)(i.Z,{arrow:!0,title:(0,d.jsx)("span",{className:s,style:{fontSize:14,...t},children:l}),style:{fontSize:40},children:n}):null}}}]);
//# sourceMappingURL=8226.675cc71b.chunk.js.map