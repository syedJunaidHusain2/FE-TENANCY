"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8742],{88895:(e,l,t)=>{t.d(l,{e:()=>i});var a=t(80184);const i=e=>{let{className:l="",onClick:t=(()=>{}),sortingOrder:i=null}=e;return(0,a.jsxs)("span",{className:"cursor-pointer d-flex flex-column ms-2 mb-0",onClick:t,children:["asc"!==i?(0,a.jsx)("i",{class:"bi bi-caret-up-fill text-cmGrey600"}):(0,a.jsx)("i",{class:"bi bi-caret-up-fill text-cmGrey900"}),"desc"!==i?(0,a.jsx)("i",{class:"bi bi-caret-down-fill text-cmGrey600"}):(0,a.jsx)("i",{class:"bi bi-caret-down-fill text-cmGrey900"})]})}},68742:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Se});var a=t(16871),i=t(81732),s=t(72791),o=t(43504),n=t(59434),d=t(67521),r=t(10534),c=t(96023),m=t(60070),u=t(80184);const x=()=>{const e=(0,a.TH)(),l=(0,n.v9)(d.wP);return(0,u.jsxs)("div",{style:{fontSize:"16px",fontWeight:"800",fontFamily:m.t.manrope},className:"d-flex flex-nowrap gap-7 text-cmGrey500",children:[(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.runPayrollAndApprovals.view,children:(0,u.jsx)(o.rU,{className:"".concat("/payroll/run-payroll"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"," py-2 px-3 cursor-pointer shadow-sm bg-cmwhite"),to:"/payroll/run-payroll",style:{borderRadius:"10px 10px 0px 0px"},children:"Run Payroll"})}),(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.oneTimePayment.view,children:(0,u.jsx)(o.rU,{className:"".concat("/payroll/one-time-payment"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"," py-2 px-3 cursor-pointer shadow-sm bg-cmwhite"),to:"/payroll/one-time-payment",style:{borderRadius:"10px 10px 0px 0px"},children:"One-time Payment"})}),(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.paymentRequest.view,children:(0,u.jsx)(o.rU,{className:"".concat("/payroll/payment-request"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"," py-2 px-3 cursor-pointer shadow-sm bg-cmwhite"),to:"/payroll/payment-request",style:{borderRadius:"10px 10px 0px 0px"},children:"Payment Request"})}),null!==l&&void 0!==l&&l.reconciliation?(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.payrollReconciliation.view,children:(0,u.jsx)(o.rU,{className:"".concat("/payroll/reconciliation"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"," py-2 px-3 cursor-pointer shadow-sm bg-cmwhite"),to:"/payroll/reconciliation",style:{borderRadius:"10px 10px 0px 0px"},children:"Reconciliation"})}):null]})};t(12614);var p=t(39159),h=t(55886),v=t(95095),y=t.n(v),f=t(5103),j=t(93250),g=t(13421),b=t(93616),_=t(86450),N=t(10252),w=t(87311),k=t(48428),S=t(37185),P=t(28555),C=t(38185),D=t(49861),M=t(46321),Z=t(13524),F=t(42822),G=t(96067),W=t(45629),A=t(14565),R=t(88895),z=null;const T=e=>{var l,t,a;let{className:i,paymentRequestData:o,loading:n,page:d,setPage:r,getPaymentList:c,setSelectedUsers:m,onChangesPaymentRequest:x,requestType:p,onChangePayNow:v,onPress:y,sortingOrder:f,sortValue:j,showTypeCol:g=!1}=e;const[b,_]=(0,s.useState)(!1),[k,D]=(0,s.useState)(null);(0,s.useEffect)((()=>{D(o)}),[o]);return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:n}),(0,u.jsx)("div",{className:"card shadow-nones ".concat(i),children:(0,u.jsx)("div",{className:"card-body shadow-none py-0 px-0 mx-0",children:(0,u.jsx)("div",{className:"table-responsive shadow-none overflow-auto",children:(0,u.jsxs)("table",{className:"table ",children:[(0,u.jsx)("thead",{className:w.fd,children:(0,u.jsxs)("tr",{className:" bg-cmGrey300 text-cmGrey800",style:{fontSize:"14px",fontWeight:"600",fontFamily:"Manrope"},children:[(0,u.jsxs)("th",{className:"p-5 text-nowrap",children:[" ",(null===k||void 0===k||null===(l=k.data)||void 0===l?void 0:l.length)>0&&(0,u.jsx)("div",{className:"",children:(0,u.jsx)(C.Z,{onChange:e=>(e=>{var l,t;_(e.target.checked);let a=null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.map((l=>({...l,isChecked:e.target.checked})));z=null===a||void 0===a||null===(t=a.filter((e=>null===e||void 0===e?void 0:e.isChecked)))||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.id)),D({...k,data:a}),m(z)})(e),checked:b||!1})})]}),(0,u.jsx)("th",{className:" p-5 text-nowrap",children:"Employee"}),(0,u.jsx)("th",{className:" p-5 text-nowrap",children:(0,u.jsxs)("div",{className:"d-flex",children:["Requested on",(0,u.jsx)(R.e,{sortingOrder:"requested_on"===j?f:null,onClick:()=>y("requested_on")})]})}),(0,u.jsx)("th",{className:" p-5 text-nowrap",children:"Approved by"}),(0,u.jsx)("th",{className:" p-5 text-nowrap",children:(0,u.jsxs)("div",{className:"d-flex",children:["Amount",(0,u.jsx)(R.e,{sortingOrder:"amount"===j?f:null,onClick:()=>y("amount")})]})}),"PaymentRequest"===p||g&&(0,u.jsx)("th",{"data-toggle":"tooltip","data-placement":"left",title:"bonuses, advances, incentives                    ",className:"p-5 text-nowrap",children:"Type"}),(0,u.jsx)("th",{className:""})]})}),(0,u.jsx)("tbody",{className:w.fd,children:(null===k||void 0===k||null===(t=k.data)||void 0===t?void 0:t.length)>0?(0,u.jsx)(u.Fragment,{children:null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.map(((e,l)=>{var t,a,i,s;return(0,u.jsxs)("tr",{className:"text-cmGrey600 stripRow ",style:{height:"40px",fontSize:"14px",fontFamily:"Manrope"},children:[(0,u.jsx)("th",{className:"p-5",children:(0,u.jsx)("div",{className:"",children:(0,u.jsx)(C.Z,{checked:(null===e||void 0===e?void 0:e.isChecked)||!1,onChange:l=>((e,l)=>{var t,a,i,s,o;const n={...k};let d=[...null===n||void 0===n?void 0:n.data];d=null===(t=d)||void 0===t?void 0:t.map((t=>(null===t||void 0===t?void 0:t.id)==(null===e||void 0===e?void 0:e.id)?{...t,isChecked:l.target.checked}:t)),z=null===(a=d)||void 0===a||null===(i=a.filter((e=>null===e||void 0===e?void 0:e.isChecked)))||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.id)),D({...k,data:d}),m(z),(null===(s=d)||void 0===s?void 0:s.length)==(null===(o=z)||void 0===o?void 0:o.length)?_(!0):_(!1)})(e,l)})})}),(0,u.jsx)("td",{className:"p-5 text-cmGrey800 text-nowrap",style:{textDecoration:"underline",fontFamily:"Manrope",fontWeight:"700"},children:(0,u.jsxs)(P.Z,{employeeId:null===e||void 0===e?void 0:e.user_id,children:[(0,u.jsx)(S.Z,{src:null===e||void 0===e?void 0:e.image,className:"avatar me-3"})," ",null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name," "]})}),(0,u.jsx)("td",{className:"p-5 text-cmGrey600",style:{fontWeight:600},children:(0,Z.Kj)(null===e||void 0===e?void 0:e.request_on)}),(0,u.jsx)("td",{className:"p-5 text-cmGrey600",style:{fontWeight:600},children:null!==(t=null===e||void 0===e?void 0:e.approved_by)&&void 0!==t?t:"-"}),(0,u.jsx)("td",{className:"p-5 text-cmGrey900",style:{fontWeight:700},children:(0,w.BM)(null===e||void 0===e?void 0:e.amount,"$")}),"PaymentRequest"===p||g&&(0,u.jsx)("td",{className:"p-5 text-cmGrey600",style:{fontWeight:500},children:null!==(a=null===e||void 0===e?void 0:e.type)&&void 0!==a?a:"-"}),(0,u.jsx)("td",{className:"p-5 ",children:(0,u.jsxs)("div",{className:"d-flex flex-center gap-5",children:[(null===(i=z)||void 0===i?void 0:i.length)>0?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{className:"text-nowrap",buttonSize:A.iY.small,buttonType:A.JB.primary,buttonLabel:"With Payroll",onClick:()=>x("Accept",null===e||void 0===e?void 0:e.id)})}),(null===(s=z)||void 0===s?void 0:s.length)>0?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonType:A.JB.error,buttonSize:A.iY.small,buttonLabel:"Decline",onClick:()=>{F.Z.warn("Are you sure you want to decline ?",(()=>{x("Decline",null===e||void 0===e?void 0:e.id)}))}})})]})})]},l)}))}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:15,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:"No data found"})})})]})})})}),(0,u.jsx)(N.Z,{page:d,totalPages:null===k||void 0===k?void 0:k.last_page,setPage:e=>r(e)})]})},E=e=>{var l;let{show:t,handleClose:a,payrollMetaData:i,getPayrollData:o}=e;const[n,d]=(0,s.useState)(null),[r,c]=(0,s.useState)(1),[m,x]=(0,s.useState)(!1),[h,v]=(0,s.useState)([]),[y,f]=(0,s.useState)(null),[j,g]=(0,s.useState)(null);(0,s.useEffect)((()=>{i&&b()}),[i,r,y,j]);const b=()=>{const e=null===i||void 0===i?void 0:i.name;x(!0),(0,p.p7_)({page:r,search:e,type:"Both",sort:y,sort_val:j}).then((e=>{d(null===e||void 0===e?void 0:e.data)})).finally((()=>{x(!1)}))},_=(e,l)=>{x(!0);const t={request_ids:l?[l]:h,type:e};(0,p.Fs9)(t).then((()=>{G.Z.success("Accept"==e?"Payment Request gone to payroll":"Payment Request declined"),a(),o()})).catch((e=>{x(!1),G.Z.error((0,w.oN)(e))}))},N=(0,s.useMemo)((()=>{var e;return null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.reduce(((e,l)=>{var t;return e+Number(null!==(t=l.amount)&&void 0!==t?t:0)}),0)}),[null===n||void 0===n?void 0:n.data]);return(0,u.jsx)(W.Z,{show:t,onHide:a,title:"Payment Request | ".concat(null!==(l=null===i||void 0===i?void 0:i.name)&&void 0!==l?l:"-"),maxWidth:"1300",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"d-flex gap-5 justify-content-end mb-5",children:[(null===h||void 0===h?void 0:h.length)>0?(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonLabel:"With Payroll",onClick:()=>_("Accept")})}):(0,u.jsx)(u.Fragment,{}),(null===h||void 0===h?void 0:h.length)>0?(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonType:A.JB.error,buttonLabel:"Decline",onClick:()=>_("Decline")})}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsx)(T,{className:"mx-0 px-0",paymentRequestData:n,page:r,setPage:c,loading:m,getPaymentList:b,setSelectedUsers:v,onChangesPaymentRequest:(e,l)=>_(e,l),onChangePayNow:e=>(e=>{const l={request_id:e};F.Z.warn("Are you sure you want to pay this request ?",(()=>{(0,p.B94)(l).then((()=>{a(),o()})).finally((()=>{G.Z.success("Paid successfully")}))}))})(e),showTypeCol:!0,sortingOrder:j,sortValue:y,onPress:e=>{f(e),g(y!==e?"asc":"asc"===j?"desc":"asc"),c(1)}}),(0,u.jsxs)("div",{className:"text-end p-2",children:[(0,u.jsx)("span",{className:"text-cmGrey600 me-2",style:{fontFamily:"Manrope",fontWeight:"800",fontSize:"14px"},children:"Sub-Total"}),(0,u.jsx)("span",{className:"p-5 text-cmGrey900",style:{fontWeight:700},children:(0,w.BM)(N,"$")})]})]})})};var B=t(94252),q=t(76033);const V=e=>{var l,t,i;let{selectedPayroll:o,setSelectedPayrollData:r=(()=>{}),tableData:c,finalize_status:m,activePage:x,onPageChange:h,getPayrollData:v,currentPayPeriod:y,setSelectedPageType:W,selectedPageType:A,isAllPayrollPaid:R,pay_period_from:z,pay_period_to:T}=e;const[V,Y]=(0,s.useState)(!1),[K,L]=(0,s.useState)(!1),[H,O]=(0,s.useState)(!1),[I,J]=(0,s.useState)(!1),[$,U]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(!1),ee=(0,n.v9)(d.wP),[le,te]=(0,s.useState)(null),ae=(0,s.useRef)(null),ie=(0,a.s0)(),se="all_pages"==A?[{label:"Cancel all page selection",command:e=>{W(null),r([])}}]:[{label:"Select All Pages",command:e=>{ne()}}],oe=(0,s.useMemo)((()=>{var e,l;const t=[];return null===c||void 0===c||null===(e=c.data)||void 0===e||null===(l=e.filter((e=>!(null!==e&&void 0!==e&&e.is_mark_paid)&&![Z.bg.paid,Z.bg.finilize].includes(Number(null===e||void 0===e?void 0:e.status_id)))))||void 0===l||l.map((e=>t.push(o.includes(null===e||void 0===e?void 0:e.payroll_id)))),(null===t||void 0===t?void 0:t.length)>0&&t.every((e=>e))}),[null===c||void 0===c?void 0:c.data,o]),ne=()=>{oe?(r([]),W(null)):(W("all_pages"),de())},de=e=>{if(oe){var l;W(null);let e=[...o];null===c||void 0===c||null===(l=c.data)||void 0===l||l.map((l=>{e=e.filter((e=>e!=(null===l||void 0===l?void 0:l.payroll_id)))})),r(e)}else{var t;const e=[...o];null===c||void 0===c||null===(t=c.data)||void 0===t||t.map((l=>{null!==l&&void 0!==l&&l.is_mark_paid||[Z.bg.paid,Z.bg.finilize].includes(Number(null===l||void 0===l?void 0:l.status_id))||e.includes(null===l||void 0===l?void 0:l.payroll_id)||e.push(null===l||void 0===l?void 0:l.payroll_id)})),r(e)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:" p-0  bg-cmwhite rounded shadow-sm",style:{marginLeft:"-20px"},children:[(0,u.jsx)("div",{className:"table-responsive shadow-none overflow-auto",children:(0,u.jsxs)("table",{className:"table rounded",style:{tableLayout:"fixed",width:"100%"},children:[(0,u.jsx)("thead",{className:w.fd,children:(0,u.jsxs)("tr",{className:"bg-cmGrey300 text-cmGrey900",style:{fontSize:"14px",fontWeight:"700",fontFamily:"Manrope"},children:[(0,u.jsx)("th",{className:"px-0",style:{width:"65px"},children:!m&&(null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.length)>0?(0,u.jsxs)("div",{className:"d-flex gap-2 ms-3 mb-1",children:[R||m?null:(0,u.jsx)(C.Z,{checked:oe,onChange:e=>de(e)}),!R&&(null===c||void 0===c?void 0:c.last_page)>1?(0,u.jsx)(D.Z,{arrowDirection:D.e.down,onClick:e=>{ae.current.toggle(e)}}):null,(0,u.jsx)(M.y,{className:"bg-cmwhite text-center",style:{borderRadius:"10px"},model:se,popup:!0,ref:ae,breakpoint:"767px"})]}):null}),(0,u.jsx)("th",{className:" p-3 px-2",style:{width:"200px"},children:"Employee"}),(0,u.jsx)("th",{className:" p-3",style:{width:"80px"},children:"Request"}),(0,u.jsx)("th",{className:" p-3",style:{width:"115px"},children:"Commission"}),(0,u.jsxs)("th",{className:" p-3",style:{width:"120px"},children:["Overrides"," ",(0,u.jsx)("i",{className:"bi bi-gear ms-2 fs-5 text-cmGrey700 ",onClick:()=>ie("/setting/setup"),style:{cursor:"pointer"}})]}),(0,u.jsxs)("th",{style:{width:"135px"},"data-toggle":"tooltip","data-placement":"left",title:"bonuses, advances, incentives,  Fine/Fee, Payroll Dispute ",className:" p-3 ",children:["Adjustments"," ",(0,u.jsx)("i",{className:"bi bi-exclamation-circle ms-1 text-cmGrey700",style:{cursor:"pointer"}})]}),(0,u.jsx)("th",{className:" p-3",style:{width:"135px"},children:"Reimbursements"}),(0,u.jsxs)("th",{className:"p-3",style:{width:"110px"},children:["Deductions"," "]}),null!==ee&&void 0!==ee&&ee.reconciliation?(0,u.jsx)("th",{className:"p-3",style:{width:"120px"},children:"Reconciliation"}):null,(0,u.jsx)("th",{className:" p-3",style:{width:"120px"},children:"Net Pay"}),(0,u.jsx)("th",{className:"p-3",style:{width:"60px"}})]})}),(0,u.jsx)("tbody",{className:w.fd,children:(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.length)>0?(0,u.jsx)(u.Fragment,{children:null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.map(((e,l)=>{var t,a,i,s,n,d,c,x,h;let y=null===o||void 0===o?void 0:o.includes(null===e||void 0===e?void 0:e.payroll_id);return(0,u.jsxs)("tr",{className:"text-cmGrey700 stripRow ".concat(Z.bg.finilize==(null===e||void 0===e?void 0:e.status_id)?"bg-cmSuccess bg-opacity-5":null!==e&&void 0!==e&&e.is_mark_paid||![Z.bg.paid,Z.bg.moveToRecon].includes(e.status_id)?null:"bg-cmGrey300"," "),style:{fontSize:"14px",fontFamily:"Manrope",fontWeight:600,verticalAlign:"middle"},children:[(0,u.jsx)("td",{width:"65px",className:"ps-3 ".concat(null!==e&&void 0!==e&&e.is_mark_paid||[Z.bg.moveToRecon,Z.bg.paid].includes(e.status_id)||(null===e||void 0===e?void 0:e.PayrollShiftHistorie_count)>0?"border-start border-end-0 border-cminfo border-3":null),children:m||null!==e&&void 0!==e&&e.is_mark_paid||[Z.bg.paid,Z.bg.finilize,Z.bg.moveToRecon].includes(e.status_id)?(0,u.jsx)("div",{}):(0,u.jsx)("div",{className:"",children:(0,u.jsx)(C.Z,{checked:y,onChange:l=>((e,l)=>{let t=[...o];t.some((l=>l==(null===e||void 0===e?void 0:e.payroll_id)))?t=t.filter((l=>l!=(null===e||void 0===e?void 0:e.payroll_id))):t.push(null===e||void 0===e?void 0:e.payroll_id),r(t)})(e),disable:"all_pages"==A})})}),(0,u.jsx)("td",{width:"200px",className:" text-cmGrey800  cursor-pointer",style:{textDecoration:"underline",fontFamily:"Manrope",fontWeight:"700",fontSize:"14px"},children:(0,u.jsxs)(P.Z,{employeeId:null===e||void 0===e?void 0:e.id,children:[(0,u.jsx)(S.Z,{src:null===e||void 0===e?void 0:e.image,className:"avatar me-3",alt:"img"})," ",null!==(t=null===e||void 0===e?void 0:e.first_name)&&void 0!==t?t:"-"," ",null!==(a=null===e||void 0===e?void 0:e.last_name)&&void 0!==a?a:"-"]})}),(0,u.jsx)("td",{className:"",width:"80px",children:null!==e&&void 0!==e&&e.approvals_and_requests_status?(0,u.jsx)("div",{className:"text-cmBlue-Crayola text-decoration-underline cursor-pointer ",onClick:()=>{X(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,name:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),user_id:null===e||void 0===e?void 0:e.id,pay_period_from:z,pay_period_to:T})},children:"View"}):(0,u.jsx)("div",{children:"-"})}),(0,u.jsx)("td",{width:"115x",className:" text-decoration-underline cursor-pointer",onClick:()=>{Y(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,name:"".concat(null===e||void 0===e?void 0:e.first_name,"  ").concat(null===e||void 0===e?void 0:e.last_name),user_id:null===e||void 0===e?void 0:e.id,pay_period_from:z,pay_period_to:T})},children:(0,w.BM)(null===e||void 0===e?void 0:e.commission)}),(0,u.jsx)("td",{width:"120px",className:"  text-decoration-underline cursor-pointer",onClick:()=>{U(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,user_id:null===e||void 0===e?void 0:e.id,name:"".concat(null===e||void 0===e?void 0:e.first_name,"  ").concat(null===e||void 0===e?void 0:e.last_name),pay_period_from:z,pay_period_to:T})},children:(0,w.BM)(null!==(i=null===e||void 0===e?void 0:e.override)&&void 0!==i?i:"000","$")}),(0,u.jsx)("td",{width:"135px",className:"  text-decoration-underline cursor-pointer",onClick:()=>{L(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,name:"".concat(null===e||void 0===e?void 0:e.first_name,"  ").concat(null===e||void 0===e?void 0:e.last_name),pay_period_from:z,pay_period_to:T,user_id:null===e||void 0===e?void 0:e.id})},children:(0,w.BM)(null!==(s=null===e||void 0===e?void 0:e.adjustment)&&void 0!==s?s:"000","$")}),(0,u.jsx)("td",{width:"135px",className:"  text-decoration-underline cursor-pointer",onClick:()=>{O(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,name:"".concat(null===e||void 0===e?void 0:e.first_name,"  ").concat(null===e||void 0===e?void 0:e.last_name),pay_period_from:z,pay_period_to:T,user_id:null===e||void 0===e?void 0:e.id})},children:(0,w.BM)(null!==(n=null===e||void 0===e?void 0:e.reimbursement)&&void 0!==n?n:"000","$")}),(0,u.jsx)("td",{width:"110px",className:" text-decoration-underline cursor-pointer",onClick:()=>{J(!0),te({payroll_id:null===e||void 0===e?void 0:e.payroll_id,name:"".concat(null===e||void 0===e?void 0:e.first_name,"  ").concat(null===e||void 0===e?void 0:e.last_name),pay_period_from:z,pay_period_to:T,user_id:null===e||void 0===e?void 0:e.id})},children:(0,w.BM)(null!==(d=null===e||void 0===e?void 0:e.deduction)&&void 0!==d?d:"000","$")}),null!==ee&&void 0!==ee&&ee.reconciliation?(0,u.jsx)("td",{className:"",width:"120px",children:(0,w.BM)(null!==(c=null===e||void 0===e?void 0:e.reconciliation)&&void 0!==c?c:"000","$")}):null,(0,u.jsx)("td",{width:"120px",className:" text-".concat("skipped"==(null===e||void 0===e?void 0:e.status)?"cmError":"cmGrey900"," "),style:{fontFamily:"Manrope",fontWeight:"700"},children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:Number(null!==(x=null===e||void 0===e?void 0:e.net_pay)&&void 0!==x?x:0)<0?"bi bi-exclamation-triangle text-cmError me-2":""}),null!==e&&void 0!==e&&e.is_mark_paid||![Z.bg.pending,Z.bg.finilize,Z.bg.nextPayroll].includes(e.status_id)?null:(0,w.BM)(null!==(h=null===e||void 0===e?void 0:e.net_pay)&&void 0!==h?h:"000","$"),null!==e&&void 0!==e&&e.is_mark_paid?(0,u.jsx)("span",{className:" pt-2 text-cminfo",children:"Paid"}):null,Z.bg.moveToRecon==(null===e||void 0===e?void 0:e.status_id)?(0,u.jsx)("span",{className:" pt-2 text-cminfo",children:"Recon"}):null]})}),(0,u.jsxs)("td",{width:"60px",className:" ",children:[null!==e&&void 0!==e&&e.is_mark_paid||[Z.bg.moveToRecon,Z.bg.paid].includes(e.status_id)||(null===e||void 0===e?void 0:e.PayrollShiftHistorie_count)>0?(0,u.jsx)(B.Z,{title:null!==e&&void 0!==e&&e.is_mark_paid?"Undo Paid":6==(null===e||void 0===e?void 0:e.status_id)?"Undo Recon":(null===e||void 0===e?void 0:e.PayrollShiftHistorie_count)>0?"Undo Next Payroll":"",children:(0,u.jsx)(q.D8,{path:"/media/icons/duotune/art/arrow-anti-clockwise.svg",svgClassName:"h-35px w-35px cursor-pointer",onClick:()=>(e=>{let l={payroll_id:null===e||void 0===e?void 0:e.payroll_id};if(null!==e&&void 0!==e&&e.is_mark_paid){const l={payrollId:null===e||void 0===e?void 0:e.payroll_id};F.Z.warn("Are you sure want to undo this paid ",(()=>{(0,p.y5r)(l).then((()=>v())).catch((e=>G.Z.error((0,w.oN)(e))))}))}else 6==(null===e||void 0===e?void 0:e.status_id)?F.Z.warn("Are you sure want to undo this recon",(()=>{(0,p.CvQ)(l).then((()=>v())).catch((e=>G.Z.error((0,w.oN)(e))))})):(null===e||void 0===e?void 0:e.PayrollShiftHistorie_count)>0&&(l.pay_period_from=z,l.pay_period_to=T,F.Z.warn("Are you sure want to undo this next payroll",(()=>{(0,p.t9e)(l).then((()=>v())).catch((e=>G.Z.error((0,w.oN)(e))))})))})(e)})}):null,(null===e||void 0===e?void 0:e.comment)&&(0,u.jsx)("i",{"data-toggle":"tooltip",title:null===e||void 0===e?void 0:e.comment,style:{fontSize:"20px",cursor:"pointer"},className:"bi bi-chat-fill text-hover-black text-cmOrange",children:" "})]})]},l)}))}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:12,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:"No data found"})},"no-data")})]})}),null!==c&&void 0!==c&&c.data&&!A?(0,u.jsx)(N.Z,{page:x&&x,totalPages:null===c||void 0===c?void 0:c.last_page,setPage:e=>{h(e)}}):null]}),V?(0,u.jsx)(j.D,{show:V,handleClose:()=>{Y(!1),v()},payrollMetaData:le,finalize_status:!1}):null,(0,u.jsx)(f.x,{show:K,handleClose:()=>{L(!1),v()},payrollMetaData:le}),(0,u.jsx)(b.T,{show:H,handleClose:()=>{O(!1)},payrollMetaData:le}),I?(0,u.jsx)(g.T,{show:I,handleClose:()=>{J(!1),v()},payrollMetaData:le,finalize_status:!1}):null,$?(0,u.jsx)(k.Z,{show:$,handleClose:()=>{U(!1),v()},payrollMetaData:le,finalize_status:!1}):null,Q?(0,u.jsx)(E,{show:Q,handleClose:()=>X(!1),payrollMetaData:le,getPayrollData:v}):null,(0,u.jsx)(_.Z,{})]})};var Y=t(28114),K=t(34418),L=t(54286);const H=e=>{let{show:l,handleClose:t,selectedArr:a,setSelectedArr:i,getPayrollData:o,selectedPageType:r}=e;const[c,m]=(0,s.useState)(!1),[x,v]=(0,s.useState)(null),[y,f]=(0,s.useState)(null),j=(0,n.v9)(d.Ux);return(0,u.jsxs)(L.V,{id:"kt_modal_create_app",tabIndex:-1,"aria-hidden":"true",header:"Move To Reconciliation",className:"mw-sm-800px w-sm-75",visible:l,onHide:t,backdrop:!0,children:[(0,u.jsx)("hr",{className:"m-0 p-0 text-cmGrey900"}),(0,u.jsxs)("div",{className:"m-0 p-0",style:{fontFamily:"Manrope",fontSize:"14px",position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:c}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("div",{className:"modal-body  py-2 px-lg-10 mb-5",children:(0,u.jsx)("div",{className:"py-lg-3 px-lg-10 ",children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-wrap justify-content-between w-sm-75 mx-auto",style:{fontFamily:"Manrope",fontSize:"14px"},children:[(0,u.jsx)("div",{children:(0,u.jsx)("h4",{className:"text-cmGrey800 mb-sm-5 mb-3",style:{fontWeight:"900"},children:"Recon Period:"})}),(0,u.jsxs)("div",{className:"w-sm-auto w-100",children:[(0,u.jsxs)("select",{style:{fontWeight:"700",fontSize:"14px"},onChange:e=>{f(null);const l=(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.find((l=>(null===l||void 0===l?void 0:l.id)==e.target.value)):null;v(l)},"data-control":"select2","data-hide-search":"true",className:"form-select form-select-black form-select-sm text-cmGrey800 bg-cmGrey200 cursor-pointer ".concat(y?"border-2 border-cmError":""),children:[(0,u.jsx)("option",{style:{fontWeight:600},value:"",children:"Select PayPeriod"}),null===j||void 0===j?void 0:j.map((e=>(0,u.jsxs)("option",{className:"h-35px",value:null===e||void 0===e?void 0:e.id,style:{background:"#FFFFFF",fontWeight:"600"},children:[(0,Z.Kj)(null===e||void 0===e?void 0:e.period_from)," -"," ",(0,Z.Kj)(null===e||void 0===e?void 0:e.period_to)]},null===e||void 0===e?void 0:e.id)))]}),y?(0,u.jsx)("div",{className:"h-20px",children:(0,u.jsx)("small",{id:"",className:"p-error block",children:y})}):null]})]}),(0,u.jsx)("hr",{style:{height:"2px"}})]})})}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsx)("div",{className:"btn bg-cmBlue-Crayola py-2 text-cmwhite",style:{fontWeight:"500"},onClick:()=>{if(!x)return f("Select period");m(!0);const e={payrollId:a,period_from:null===x||void 0===x?void 0:x.period_from,period_to:null===x||void 0===x?void 0:x.period_to};(0,p.uIY)(e).then((()=>{t(),o(),i([]),G.Z.success("Moved To Reconciliation")})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>{m(!1)}))},children:"Move"})})]})]})]})};var O=t(10327),I=t(5342),J=t(84271),$=t(59153);const U="netpay_filter",Q=e=>{let{initialFilter:l=null,onApplyFilter:t=null,resetFilter:a=null}=e;const[i,o,r]=(0,O.Z)(l,t),c=((0,n.v9)(d.xC),(0,s.useCallback)((e=>{r((l=>{var t,a;return{...l,[null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name]:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value}}))}),[r])),m=(0,s.useCallback)((()=>{r(l),a()}),[o]);return(0,u.jsx)(I.Z,{...i,onResetClick:m,filterData:o,children:(0,u.jsx)("div",{className:"mb-5 text-cmGrey800",style:{fontSize:"Manrope",fontWeight:600},children:(0,u.jsx)($.Z,{label:"Net pay (Payroll)",value:null===o||void 0===o?void 0:o[U],name:U,onChange:c,options:[{name:"Negative Amount",value:"negative_amount"}]})})})};var X=t(71336);const ee=JSON.parse('{"v":"5.1.1","fr":25,"ip":0,"op":42,"w":150,"h":150,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ring 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.2980392156862745,0.8509803921568627,0.39215686274509803,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.438],"y":[0]},"n":["0_1_0p438_0"],"t":13,"s":[0],"e":[83]},{"t":32}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.438],"y":[0]},"n":["0_1_0p438_0"],"t":13,"s":[-84],"e":[84]},{"t":32}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"ring 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.20784313725490197,0.596078431372549,0.27450980392156865,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":8,"s":[0],"e":[83]},{"t":25}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":8,"s":[-84],"e":[84]},{"t":25}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"ring","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.9490196078431372,0.9490196078431372,0.9686274509803922,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":0,"s":[0],"e":[83]},{"t":20}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.396],"y":[1]},"o":{"x":[0.576],"y":[0]},"n":["0p396_1_0p576_0"],"t":0,"s":[-84],"e":[84]},{"t":20}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"check 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.2980392156862745,0.8509803921568627,0.39215686274509803,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":20,"s":[0],"e":[100]},{"t":37}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"check 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.20784313725490197,0.596078431372549,0.27450980392156865,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":16,"s":[0],"e":[100]},{"t":34}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[49.5,27.86,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,41.96],[22.41,64.35],[83.63,0]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9490196078431372,0.9490196078431372,0.9686274509803922,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":9,"ix":5},"lc":2,"lj":2,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.257],"y":[0]},"n":["0_1_0p257_0"],"t":12,"s":[0],"e":[100]},{"t":29}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":125,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"boom","sr":1,"ks":{"o":{"a":0,"k":10,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[75,75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0,0,0.18],"y":[1,1,1]},"o":{"x":[0,0,0.33],"y":[0,0,0]},"n":["0_1_0_0","0_1_0_0","0p18_1_0p33_0"],"t":10,"s":[0,0,100],"e":[100,100,100]},{"t":42}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[150,150],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8588235294117647,0.9686274509803922,0.8784313725490196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2 Copy","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":125,"st":0,"bm":0}],"markers":[]}'),le=e=>{let{show:l,handleClose:t,refreshPayFrequency:i,selectedPayPeriod:s}=e;const o=(0,a.s0)();return(0,u.jsx)(W.Z,{show:l,onHide:t,maxWidth:"425",showHeader:!1,children:(0,u.jsxs)("div",{style:{fontFamily:m.t.manrope},className:"text-center",children:[(0,u.jsx)("div",{className:"d-flex flex-center p-0 m-0",children:(0,u.jsx)(X.Z,{lottieJson:ee,height:73,width:73})}),(0,u.jsxs)("div",{className:"text-center mb-10",children:[(0,u.jsx)("div",{style:{fontSize:20,fontWeight:600},className:"text-cmGrey800 mb-5",children:"Payroll Executed!"}),(0,u.jsx)("div",{style:{fontSize:16,fontWeight:600,lineHeight:"26px"},className:"text-cmGrey600",children:"You can view the executed payroll in the reports section!"})]}),(0,u.jsxs)("div",{className:"d-flex flex-center flex-wrap gap-10",children:[(0,u.jsx)(A.ZP,{type:A.JB.primaryBorder,buttonLabel:"Thanks!",padding:"px-10",onClick:t}),(0,u.jsx)(A.ZP,{buttonLabel:"View Report",padding:"px-10",onClick:()=>{i(),o("/reports/payroll",{state:{period:s}})}})]})]})})},te=e=>{let{show:l,handleClose:t}=e;return(0,u.jsx)(W.Z,{show:l,onHide:t,maxWidth:"500",showline:!1,borderColor:"cminfo",children:(0,u.jsxs)("div",{style:{fontSize:16,fontWeight:600,lineHeight:"26px",fontFamily:m.t.manrope},className:"text-cmGrey800 px-sm-20 text-center",children:["All employees are marked as paid. ",(0,u.jsx)("br",{})," You can close this payroll now!"]})})};var ae=t(72426),ie=t.n(ae),se=t(69006);const oe={position_filter:"",netpay_filter:"",commission_filter:""};function ne(){var e;const[l,t]=(0,s.useState)(!1),[i,o]=(0,s.useState)([]),[r,c]=(0,s.useState)([]),[m,x]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),[j,g]=(0,s.useState)(!1),{weekDropdownList:b,payPeriodList:N,handleSelectedWeekData:k,selectedPayPeriod:S,currentPayPeriod:P,nextPayPeriod:D,setSelectedPayPeriod:M,selectedWeekData:W}=(0,Y.Z)(),R=(0,a.s0)(),[z,T]=(0,s.useState)(1),[E,B]=(0,s.useState)(""),[q,L]=(0,s.useState)(""),[O,I]=(0,s.useState)(!1),[U,X]=(0,s.useState)(!1),[ee,ae]=(0,s.useState)(null),[ne,de]=(0,s.useState)(!1),[re,ce]=(0,s.useState)(!1),me=(0,n.v9)(d.wP),[ue,xe]=(0,s.useState)(oe),pe=(0,n.I0)();(0,s.useEffect)((()=>{pe((0,K.Wj)())}),[]),(0,s.useEffect)((()=>{c([]),f(null)}),[j]),(0,s.useEffect)((()=>{he()}),[E,S,N,z,j,ue]);const he=(0,s.useCallback)((()=>{var e,l;let a=null!==(e=null===P||void 0===P?void 0:P.pay_period_from)&&void 0!==e?e:null,i=null!==(l=null===P||void 0===P?void 0:P.pay_period_to)&&void 0!==l?l:null;if(a&&i){var s;t(!0);const e={office_id:"all",start_date:(0,Z.Kj)(a,"YYYY-MM-DD"),end_date:(0,Z.Kj)(i,"YYYY-MM-DD"),search:E,is_reconciliation:j?1:0,page:z,pay_frequency:null===b||void 0===b||null===(s=b.find((e=>W==(null===e||void 0===e?void 0:e.frequency_type_name))))||void 0===s?void 0:s.frequency_type_id,...ue};(0,p.uqw)(e).then((e=>{var l,t;null===e||void 0===e||null===(l=e.data)||void 0===l||null===(t=l.data)||void 0===t||t.sort(((e,l)=>e.first_name.localeCompare(l.first_name))),o(null===e||void 0===e?void 0:e.data),ae(e)})).finally((()=>t(!1)))}}),[null===P||void 0===P?void 0:P.pay_period_from,null===P||void 0===P?void 0:P.pay_period_to,ue,z,E,W,j,b]);(0,s.useEffect)((()=>{1==z&&ce(null===ee||void 0===ee?void 0:ee.all_paid)}),[i]);const ve=(0,s.useCallback)(y()((e=>{T(1),B(e)}),500),[]),ye=()=>{I(!O)},fe=(0,s.useMemo)((()=>null===N||void 0===N?void 0:N.map((e=>({...e,period:"".concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_from)," to ").concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_to))})))),[N]),je=()=>{T(1),B(""),L(""),g((e=>!e))},ge=(0,s.useCallback)((()=>{pe((0,K.mX)()),pe((0,K.b$)()),he()}),[pe,he]),be=(0,s.useCallback)((()=>{var e,l,a;let i=null!==(e=null===P||void 0===P?void 0:P.pay_period_from)&&void 0!==e?e:null,s=null!==(l=null===P||void 0===P?void 0:P.pay_period_to)&&void 0!==l?l:null;t(!0);const o={start_date:(0,Z.Kj)(i,"YYYY-MM-DD"),end_date:(0,Z.Kj)(s,"YYYY-MM-DD"),pay_frequency:null===b||void 0===b||null===(a=b.find((e=>W==(null===e||void 0===e?void 0:e.frequency_type_name))))||void 0===a?void 0:a.frequency_type_id,type:"payroll_paid"};(0,p.cvG)(o).then((e=>{const l="Payroll Reports - ".concat(ie()(new Date).format("DD MMM YY hh:mm"),".csv");(0,w.gA)(e,l),G.Z.success("File Downloaded Successfully")})).finally((()=>{t(!1)}))}),[null===P||void 0===P?void 0:P.pay_period_from,null===P||void 0===P?void 0:P.pay_period_to,W,b]);return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:l}),(0,u.jsx)("div",{className:"engage-toolbar d-flex position-fixed px-5 top-50 end-0 transform-90 mt-20 gap-2",style:{zIndex:"10"},children:(0,u.jsx)("button",{style:{border:"1px solid #6078EC",borderRadius:"12px"},id:"kt_engage_demos_toggle1",className:"engage-demos-toggle btn btn-flex h-35px bg-body  shadow-sm fs-6 px-4 rounded-top-0",title:"Check out ".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_THEME_NAME," more demos"),"data-bs-placement":"left","data-bs-dismiss":"click","data-bs-trigger":"hover",children:(0,u.jsx)("span",{style:{color:"#6078EC"},onClick:ye,children:"View Summary"})})}),(0,u.jsx)("div",{className:"bg-cmwhite h-auto",style:{fontSize:"14px",fontFamily:"Manrope",borderRadius:"0 10px 10px 10px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},children:(0,u.jsxs)("div",{className:"w-100 gap-2 p-8 d-flex flex-wrap align-items-center justify-content-between",children:[(0,u.jsx)("div",{style:{height:"43px",borderRadius:"20px"},className:"mb-1",id:"kt_chat_contacts_header",children:(0,u.jsx)("form",{className:"position-relative",style:{borderRadius:"90px"},autoComplete:"off",children:(0,u.jsx)(J.ZP,{type:J.rC.search,name:"search",value:q,onChange:e=>{L(e.target.value),ve(e.target.value)}})})}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{onChange:e=>{xe(oe),k(e.target.value)},options:b,value:W,showClear:!1,searching:!1,valueKey:"name"})}),(0,u.jsx)("div",{className:" mb-1 fw-bold d-flex flex-row w-250px",style:{borderRadius:"6px",height:"40px"},children:(0,u.jsx)($.Z,{name:"status",onChange:e=>{var l;L(""),B(""),c([]),T(1),f(null),xe(oe),M(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)},options:fe,valueKey:"id",displayKey:"period",value:S,showClear:!1})}),(0,u.jsxs)("div",{children:[" ",(0,u.jsx)(Q,{initialFilter:oe,onApplyFilter:e=>{var l;l=e,T(1),B(""),L(""),xe(l)},resetFilter:()=>{T(1),B(""),L(""),xe(oe)}})]}),(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonType:A.JB.disabled,buttonLabel:"Export To CSV",onClick:be})})]})}),(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0&&(null===r||void 0===r?void 0:r.length)<=0&&(null===ee||void 0===ee||!ee.all_paid)?(0,u.jsx)("div",{className:" my-5 ",children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(A.ZP,{buttonType:null!==ee&&void 0!==ee&&ee.finalize_status?A.JB.primary:A.JB.secondaryBorder,buttonLabel:null!==ee&&void 0!==ee&&ee.finalize_status?(0,u.jsx)("label",{children:U?"Executing payroll":"Execute Payroll"}):(0,u.jsx)("label",{children:U?"Finalizing payroll":"Finalize Payroll"}),onClick:()=>{null!==ee&&void 0!==ee&&ee.finalize_status?F.Z.warn("Are you sure you want to execute ?",(()=>{X(!0);const e={start_date:null===P||void 0===P?void 0:P.pay_period_from,end_date:null===P||void 0===P?void 0:P.pay_period_to};(0,p.ihE)(e).then((()=>{de(!0),ge()})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>X(!1)))})):F.Z.warn("Are you sure you want to finalize ?",(()=>{X(!0);const e={start_date:null===P||void 0===P?void 0:P.pay_period_from,end_date:null===P||void 0===P?void 0:P.pay_period_to,search:E,select_type:""};(0,p.Hf4)(e).then((()=>{he()})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>X(!1)))}))},loading:U,buttonSize:A.iY.large,icon:null!==ee&&void 0!==ee&&ee.finalize_status?"":"bi bi-calendar2"}),null!==me&&void 0!==me&&me.reconciliation?(0,u.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,u.jsxs)("div",{className:"d-flex flex-row align-items-center gap-3 mt-5 justify-content-center",children:[(0,u.jsx)("div",{children:(0,u.jsx)(C.Z,{checked:j,onChange:je})}),(0,u.jsx)("div",{style:{fontSize:12,fontWeight:600},className:"text-cmGrey600",children:"Show reconciliations positions only"})]}),(0,u.jsx)("div",{className:"d-flex flex-end me-2",children:(0,u.jsx)(se.Z,{label:"View all Alert",onClick:()=>R("/alert-center/alerts")})})]}):null]})}):null,null!==ee&&void 0!==ee&&ee.all_paid&&P?(0,u.jsx)("div",{className:"d-flex justify-content-center my-8",children:(0,u.jsx)(A.ZP,{buttonType:A.JB.successBorder,buttonLabel:"Close Payroll",onClick:()=>{F.Z.warn("Are you sure you want to close this payroll ?",(()=>{t(!0);const e={start_date:null===P||void 0===P?void 0:P.pay_period_from,end_date:null===P||void 0===P?void 0:P.pay_period_to};(0,p.lx7)(e).then((()=>{ge()})).finally((()=>{t(!1)}))}))}})}):null,(null===r||void 0===r?void 0:r.length)>0?(0,u.jsxs)("div",{className:"d-flex flex-wrap justify-content-evenly align-items-start my-10",style:{fontWeight:"700",fontSize:"16px"},children:[(0,u.jsx)(A.ZP,{buttonType:A.JB.primary,buttonLabel:"Mark as Paid",onClick:()=>{t(!0);const e={payrollId:r,pay_period_from:null===P||void 0===P?void 0:P.pay_period_from,pay_period_to:null===P||void 0===P?void 0:P.pay_period_to,select_type:null!==v&&void 0!==v?v:"this_page"};"all_pages"==v&&(e.payrollId=[]),(0,p.Ukf)(e).then((()=>{he(),c([]),f(null)})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>{t(!1),G.Z.success("Payroll marked as paid")}))},buttonSize:A.iY.small},"mark-as-paid-button"),null!==me&&void 0!==me&&me.reconciliation?(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{disabled:!j,buttonType:A.JB.primary,buttonLabel:" Move to Reconciliations",onClick:()=>{x(!0)},buttonSize:A.iY.small},"move-to-reconciliation-button")}):null,"all_pages"!=v?(0,u.jsx)(A.ZP,{buttonSize:A.iY.small,buttonType:A.JB.primary,buttonLabel:"Move to Next Payroll",onClick:()=>{t(!0);const e={payrollId:r,start_date:null===D||void 0===D?void 0:D.pay_period_from,end_date:null===D||void 0===D?void 0:D.pay_period_to};(0,p.ben)(e).then((()=>{he(),c([]),f(null)})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>{t(!1),G.Z.success("Payroll moved to next")}))}},"move-to-next-payroll-button"):null]}):null,(null===r||void 0===r?void 0:r.length)>0?(0,u.jsxs)("div",{className:"d-flex flex-row align-items-center mb-2",children:[(0,u.jsx)(C.Z,{checked:j,onChange:je}),(0,u.jsx)("span",{style:{fontSize:12,fontWeight:600},className:"text-cmGrey600 ms-2",children:"Show reconciliations positions only"})]}):null,(null===r||void 0===r?void 0:r.length)>0&&(0,u.jsx)("div",{style:{fontSize:"12px",fontWeight:"700"},children:"all_pages"==v?"All pages selected":(0,u.jsxs)(u.Fragment,{children:["all_pages"==v?null===i||void 0===i?void 0:i.total:null===r||void 0===r?void 0:r.length," ","/ ",null===i||void 0===i?void 0:i.total," Selected"]})}),(0,u.jsx)("div",{children:(0,u.jsx)(V,{pay_period_from:null===P||void 0===P?void 0:P.pay_period_from,pay_period_to:null===P||void 0===P?void 0:P.pay_period_to,selectedPayroll:r,setSelectedPayrollData:c,finalize_status:null===ee||void 0===ee?void 0:ee.finalize_status,tableData:i,activePage:z,onPageChange:e=>T(e),getPayrollData:he,currentPayPeriod:P,setSelectedPageType:f,selectedPageType:v,isAllPayrollPaid:null===ee||void 0===ee?void 0:ee.all_paid})}),O?(0,u.jsx)(_.Z,{open:O,close:ye,periodList:N,selectedWeekData:W,currentPayPeriod:P}):null,m?(0,u.jsx)(H,{show:m,handleClose:()=>x(!1),selectedArr:r,setSelectedArr:c,getPayrollData:he,selectedPageType:v}):null,ne?(0,u.jsx)(le,{show:ne,handleClose:()=>{de(!ne)},refreshPayFrequency:ge,selectedPayPeriod:S}):null,re?(0,u.jsx)(te,{show:re,handleClose:()=>{ce(!re)}}):null]})}var de=t(46012),re=t(58728),ce=t(38202),me=t(98472);const ue=e=>{var l,t,a;let{handleShowHistory:i}=e;const[o,n]=(0,s.useState)(null),[d,r]=(0,s.useState)(!1),[c,m]=(0,s.useState)("all_status"),[x,v]=(0,s.useState)("this_year"),[f,j]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),[_,k]=(0,s.useState)(null),[C,D]=(0,s.useState)(null),[M,F]=(0,s.useState)(1),[W,R]=(0,s.useState)([]),z=(0,s.useRef)();(0,s.useEffect)((()=>{const e={id:4,status:c,filter:x};_&&(e.search=_),"custom"==x&&(e.start_date=(0,Z.Kj)(f,"yyyy-MM-DD"),e.end_date=(0,Z.Kj)(g,"yyyy-MM-DD")),("custom"!=x||"custom"==x&&ie()(f).isValid()&&ie()(g).isValid()&&f<=g)&&(r(!0),(0,p.S6V)(e).then((e=>n(e.data))).finally((()=>r(!1))))}),[c,x,f,g,_]);const T=(0,s.useCallback)((()=>{F(1),k(null),D(null)}),[]),E=(0,s.useCallback)(y()((e=>{k(e)}),500),[]);return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:d}),(0,u.jsxs)("div",{className:"bg-cmwhite shadow mb-2",style:{fontFamily:"Manrope",fontWeight:"600",borderRadius:"10px"},children:[(0,u.jsxs)("div",{className:"d-flex align-items-center gap-10 px-10 py-5",children:[(0,u.jsx)("div",{className:"bi bi-box-arrow-left fs-1 text-cmGrey600 text-hover-dark cursor-pointer",onClick:i}),(0,u.jsx)("div",{className:"text-cmGrey900",style:{fontWeight:"600",fontSize:"16px"},children:"One-time Payment History"})]}),(0,u.jsx)("hr",{className:"text-cmGrey600 m-0  "}),(0,u.jsxs)("div",{className:"d-flex align-items-center flex-wrap gap-10 p-5",children:[(0,u.jsx)("form",{className:"position-relative ",style:{borderRadius:"90px"},autoComplete:"off",children:(0,u.jsx)(J.ZP,{type:J.rC.search,name:"search",onChange:e=>{D(e.target.value),E(e.target.value)},value:C})}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{value:x,showClear:!1,searching:!1,options:Z.an,valueKey:"value",displayKey:"name",onChange:e=>{return l=e.target.value,T(),r("custom"!=l),"custom"!=l&&(j(null),b(null)),void v(l);var l}})}),"custom"==x&&(0,u.jsxs)("div",{className:"d-flex align-items-center flex-row flex-wrap",children:[(0,u.jsx)("div",{style:{background:"#F5F5F5",borderRadius:"6px"},className:"form-group d-flex flex-row",children:(0,u.jsx)(ce.Z,{placeholderText:"Start Date",name:"startDate",value:f,onChange:e=>j(e.target.value),maxDate:new Date})}),(0,u.jsx)("label",{className:"m-4 ms-6 me-6",style:{color:"#757575"},children:"to"}),(0,u.jsx)("div",{style:{background:"#F5F5F5",overflow:"hidden",borderRadius:"6px"},className:"form-group  d-flex flex-row",children:(0,u.jsx)(ce.Z,{placeholderText:"End Date",name:"startDate",value:g,onChange:e=>{var l;return b(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)},maxDate:new Date,minDate:f})})]}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{showClear:!1,value:c,searching:!1,options:[{name:"All Status",value:"all_status"},{name:"Success",value:"success"},{name:"Pending",value:"pending"},{name:"Failed",value:"failed"}],onChange:e=>m(e.target.value)})})]}),(0,u.jsx)("div",{className:"table-responsive shadow-none overflow-auto",children:(0,u.jsxs)("table",{className:"table",children:[(0,u.jsx)("thead",{className:w.fd,children:(0,u.jsxs)("tr",{className:"bg-cmGrey300 text-cmGrey900",style:{fontSize:"14px",fontWeight:"700",fontFamily:"Manrope"},children:[(0,u.jsx)("th",{className:"min-w-200px p-5 text-nowrap",children:"Date & Time"}),(0,u.jsx)("th",{className:"min-w-150px p-5 text-nowrap",children:"Employee"}),(0,u.jsx)("th",{className:"min-w-150px p-5 text-nowrap",children:"Description"}),(0,u.jsx)("th",{className:"min-w-150px p-5 text-nowrap",children:"TXN. ID"}),(0,u.jsx)("th",{className:"min-w-150px p-5 text-nowrap",children:"Status"}),(0,u.jsx)("th",{className:"min-w-150px p-5 text-nowrap",children:"Amount"})]})}),(0,u.jsx)("tbody",{className:w.fd,children:(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.length)>0?(0,u.jsx)(u.Fragment,{children:null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.map(((e,l)=>{var t,a,i;return(0,u.jsxs)("tr",{style:{fontWeight:"600",fontSize:"14px",fontFamily:"Manrope"},children:[(0,u.jsx)("td",{className:"p-5 text-nowrap text-cmGrey900",children:(0,Z.Kj)(null===e||void 0===e?void 0:e.cost_date,"".concat(Z.K_," hh:mm"))}),(0,u.jsx)("td",{className:"p-5 text-decoration-underline text-nowrap text-cmGrey800 cursor-pointer",style:{fontWeight:"700"},children:(0,u.jsxs)(P.Z,{employeeId:null===e||void 0===e?void 0:e.user_id,children:[(0,u.jsx)(S.Z,{src:null===e||void 0===e||null===(t=e.user_data)||void 0===t?void 0:t.image,className:"avatar me-3"})," ",null===e||void 0===e||null===(a=e.user_data)||void 0===a?void 0:a.first_name," ",null===e||void 0===e||null===(i=e.user_data)||void 0===i?void 0:i.last_name]})}),(0,u.jsxs)("td",{className:"p-5 text-nowrap text-cmGrey500",children:[null===e||void 0===e?void 0:e.description," "]}),(0,u.jsxs)("td",{className:"p-5 text-nowrap text-cmGrey700",children:[null===e||void 0===e?void 0:e.txn_id," "]}),(0,u.jsxs)("td",{className:"p-5 text-nowrap",children:[null===e||void 0===e?void 0:e.status," "]}),(0,u.jsx)("td",{className:"p-5 text-nowrap text-cmGrey900",style:{fontWeight:"700"},children:(0,w.BM)(null===e||void 0===e?void 0:e.amount)})]})}))}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:"No payment history"})})})]})})]}),(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.length)>0?(0,u.jsx)(N.Z,{page:M,totalPages:null===o||void 0===o?void 0:o.last_page,setPage:e=>F(e)}):null,(0,u.jsxs)("div",{className:"text-center mt-10",children:[(0,u.jsx)(A.ZP,{buttonType:A.JB.primary,buttonLabel:"Download CSV",onClick:()=>{r(!0),(0,p.gQD)(4).then((e=>{R(e),setTimeout((()=>{z.current.link.click()}),1e3),G.Z.success("Downloaded Successfully")})).finally((()=>{r(!1)}))}}),(0,u.jsx)(me.CSVLink,{data:W,filename:"".concat((0,Z.Kj)(new Date),"PaymentHistory.csv"),className:"",ref:z})]})]})};function xe(){const[e,l]=(0,s.useState)(null),[t,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[n,d]=(0,s.useState)(null),[r,c]=(0,s.useState)(re.XM),[m,x]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null);(0,s.useEffect)((()=>{(0,p.aa1)().then((e=>{})),(0,p.Uid)(4).then((e=>y(e.data))).catch((e=>{G.Z.error((0,w.oN)(e))}))}),[]);const f=(0,s.useCallback)((e=>new Promise((l=>{(0,p.TjC)(e).then((e=>{var t;const a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>({...e,name:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})));l(a)})).catch((()=>{l([])}))}))),[]),j=(0,s.useCallback)((e=>{l(e)}),[]),g=t=>{t.preventDefault();const s={user_id:null===e||void 0===e?void 0:e.id,amount:i,description:n,adjustment_type_id:3},r=(0,re.lz)(s);c(r),(0,w.$V)(r)&&(a(!0),(0,p.HQ)(s).then((()=>{G.Z.success("Payment Created Successfully"),o(null),l(null),d(null),o(null),d(null)})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>{a(!1)})))},b=()=>{x(!m)};return(0,u.jsxs)("div",{className:"",style:{position:"relative"},children:[(0,u.jsx)(h.Z,{visible:t,full:!0}),m?(0,u.jsx)(ue,{handleShowHistory:b}):(0,u.jsxs)("div",{className:"row gap-sm-0 gap-10",children:[(0,u.jsx)("div",{className:"col-sm-9 ",children:(0,u.jsxs)("div",{className:"card",style:{borderRadius:"0 10px 10px 10px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},children:[(0,u.jsxs)("div",{className:"card-body  ms-4 me-4 mt-4 text-cmGrey500",style:{fontSize:"14px",fontFamily:"Manrope",fontWeight:600},children:["Pay your employees instantly outside their regular payroll cycle using our new",(0,u.jsx)("label",{style:{fontFamily:"Manrope"},className:"ms-1 text-cminfo",children:"one-time payments"})," ","feature. Please note that this is not a substitute for executing payroll,",(0,u.jsxs)("label",{style:{fontFamily:"Manrope"},className:"ms-1 text-cminfo",children:[" ","salary advance"]}),", or"," ",(0,u.jsx)("label",{style:{fontFamily:"Manrope"},className:"ms-1 text-cminfo",children:"reimbursements"}),". A one-time payment helps in immediately paying a bonus, incentive etc to your employees, which gets added to their next payroll\u2019s earnings."]}),(0,u.jsx)("div",{className:"border-bottom border-cmGrey200"}),(0,u.jsxs)("form",{onSubmit:g,children:[(0,u.jsx)("div",{className:"d-flex  justify-content-center mt-4 mx-sm-0  mx-5",children:(0,u.jsxs)("div",{className:"d-flex flex-column",children:[(0,u.jsx)("div",{className:"text-center text-cmGrey600 mb-8",style:{fontFamily:"Manrope",fontWeight:600,fontSize:"14px"},children:"Add a Payment"}),(0,u.jsxs)("div",{className:"mb-5",children:[(0,u.jsxs)("label",{className:"mb-2 text-cmGrey700",style:{fontFamily:"Manrope",fontWeight:600},children:["Who do you want to make the payment to?"," ",(0,u.jsx)("font",{className:"text-cmError",children:"*"})]}),(0,u.jsx)(de.Z,{placeholder:"Search an Employee",onSearch:f,onSelectValue:j,selectedValue:null===e||void 0===e?void 0:e.name,style:{border:null!==r&&void 0!==r&&r.payToEmployee?"1px solid #FF0000":"1px solid #D8D8D8",borderRadius:"10px",fontWeight:500},errorMessage:r.payToEmployee})]}),(0,u.jsxs)("div",{className:"mb-5",children:[(0,u.jsx)(J.ZP,{placeholder:"Advance",disabled:!0,label:"Type of Payment",required:!0,className:"mb-2",errorMessage:r.paymentType}),(0,u.jsx)("label",{className:"text-gray-600",style:{fontWeight:500},children:"This will be reflected in the employee\u2019s payslip as an advance"})]}),(0,u.jsx)("div",{className:"mb-5",style:{fontSize:"12px"},children:(0,u.jsx)(J.ZP,{label:"Total Amount",required:!0,placeholder:"Amount",onChange:e=>{o(e.target.value)},errorMessage:null===r||void 0===r?void 0:r.paymentAmount,value:i,type:J.rC.number})}),(0,u.jsx)("div",{className:"mt-5",children:(0,u.jsx)(J.ZP,{label:"Description",placeholder:"Add description",onChange:e=>{d(e.target.value)},errorMessage:"",value:n})})]})}),(0,u.jsx)("div",{className:"d-flex justify-content-center mt-11 mb-9",children:(0,u.jsx)(A.ZP,{buttonType:A.JB.primary,buttonLabel:"Pay Now",onClick:g,buttonSize:A.iY.large})})]})]})}),(0,u.jsxs)("div",{className:"col-sm-3 ",children:[(0,u.jsxs)("div",{className:"p-8 shadow-sm w-100 mb-5 bg-white",style:{borderRadius:10},children:[(0,u.jsx)("div",{className:"text-cmGrey600 mb-2",style:{fontSize:"14px",fontFamily:"Manrope",fontWeight:500},children:"Total one-time Payments"}),(0,u.jsx)("div",{className:"text-cmGrey800",style:{fontFamily:"Manrope",fontSize:"16px",fontWeight:600},children:(0,w.BM)(v,"$")})]}),(0,u.jsxs)("div",{className:"shadow-sm w-100 mt-10 h-md-160px mb-5 bg-white cursor-pointer",onClick:b,style:{borderRadius:10},children:[(0,u.jsx)("div",{className:"text-center text-text-cmGrey800",style:{fontSize:"14px",fontFamily:"Manrope",fontWeight:600},children:(0,u.jsx)("label",{className:"mt-5 text-decoration-underline cursor-pointer",onClick:b,children:"One-time Payments History"})}),(0,u.jsxs)("div",{className:"text-center text-cmGrey600 p-5 ",style:{fontSize:"14px",fontFamily:"Manrope",fontWeight:500},children:[(0,u.jsx)("label",{className:"cursor-pointer",children:"View one-time payments to"}),(0,u.jsx)("label",{className:"cursor-pointer",children:"employees that are in queue"})]})]})]})]})]})}function pe(){const[e,l]=(0,s.useState)(1),[t,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),[n,d]=(0,s.useState)(!1),[r,c]=(0,s.useState)([]),[x,h]=(0,s.useState)(""),[v,f]=(0,s.useState)(""),[j,g]=(0,s.useState)(null),[b,_]=(0,s.useState)("PaymentRequest"),[N,k]=(0,s.useState)(null),[S,P]=(0,s.useState)(null);(0,s.useEffect)((()=>{C()}),[e,x,j,N,S,b]);const C=()=>{o(!0),(0,p.p7_)({page:e,search:x,filter:j,type:b,sort:N,sort_val:S}).then((e=>{a(null===e||void 0===e?void 0:e.data)})).finally((()=>{o(!1)}))},D=e=>{_(e),l(1),h(""),f(""),g("")},M=(e,l)=>{o(!0);const t={request_ids:l?[l]:r,type:e};(0,p.Fs9)(t).then((()=>{G.Z.success("Accept"==e?"Payment Request gone to payroll":"Payment Request declined"),C(),c([])})).catch((e=>{o(!1),G.Z.error((0,w.oN)(e))}))},W=(0,s.useCallback)(y()((e=>{h(e)}),500),[]);return(0,u.jsxs)("div",{className:"",style:{fontFamily:m.t.manrope,borderRadius:"0 10px 10px 10px"},children:[(0,u.jsx)("div",{className:"bg-cmwhite card",style:{fontSize:"14px",borderRadius:"0 10px 0px 0px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},children:(0,u.jsxs)("div",{className:"w-100 p-6 d-flex align-items-center flex-wrap justify-content-between",children:[(0,u.jsx)("div",{className:"text-cmGrey900",style:{fontSize:"16px",fontWeight:600},children:"PaymentRequest"===b?"Requests":"Advance Requests"}),(0,u.jsx)("div",{children:(0,u.jsx)(J.ZP,{type:J.rC.search,onChange:e=>{f(e.target.value),W(e.target.value)},value:v})}),(0,u.jsxs)("div",{className:"d-flex gap-5",children:[(null===r||void 0===r?void 0:r.length)>0?(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonLabel:"With Payroll",onClick:()=>M("Accept")})}):(0,u.jsx)(u.Fragment,{}),(null===r||void 0===r?void 0:r.length)>0?(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonType:A.JB.error,buttonLabel:"Decline",onClick:()=>M("Decline")})}):(0,u.jsx)(u.Fragment,{})]}),(0,u.jsxs)("div",{className:"d-flex flex-center gap-5",children:["PaymentRequest"===b?(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{placeholder:"Select Type",options:Z.QK,onChange:e=>{h(""),f(""),l(1),g(e.target.value)},searching:!1,value:j})}):null,(0,u.jsx)("div",{children:"PaymentRequest"===b?(0,u.jsx)(A.ZP,{buttonType:A.JB.secondary,buttonLabel:"Advance Requests",onClick:()=>D("AdvancePaymentRequest"),buttonSize:A.iY.normal}):(0,u.jsx)(A.ZP,{buttonType:A.JB.secondary,buttonLabel:"Other  Requests",onClick:()=>D("PaymentRequest"),buttonSize:A.iY.normal})})]})]})}),(0,u.jsx)("div",{children:(0,u.jsx)(T,{className:"mx-0 px-0",paymentRequestData:t,page:e,setPage:l,requestType:b,loading:i,getPaymentList:C,setSelectedUsers:c,onChangesPaymentRequest:(e,l)=>M(e,l),onChangePayNow:e=>(e=>{const l={request_id:e};F.Z.warn("Are you sure you want to pay this request ?",(()=>{(0,p.B94)(l).then((()=>{C(),c([])})).finally((()=>{G.Z.success("Paid successfully")}))}))})(e),sortingOrder:S,sortValue:N,onPress:e=>{k(e),P(N!==e?"asc":"asc"===S?"desc":"asc"),l(1)}})})]})}const he=e=>{var l;let{show:t,handleClose:a,preData:i,getReconciliationData:o,startDate:n,endDate:d}=e;const[r,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[v,y]=(0,s.useState)(null),[f,j]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[_,N]=(0,s.useState)(null);return(0,u.jsxs)(W.Z,{show:t,onHide:a,title:"Edit Reconciliation",maxWidth:"1000",children:[(0,u.jsx)(h.Z,{full:!0,visible:g}),(0,u.jsx)("div",{className:"py-5",children:(0,u.jsx)("div",{className:"py-lg-0 ms-sm-12 d-flex justify-content-center",children:(0,u.jsx)("div",{className:"container mt-2",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row gap-5",children:[(0,u.jsxs)("div",{className:"col-sm",children:[(0,u.jsxs)("div",{className:"mb-4",style:{color:"",fontFamily:"Manrope",fontSize:"15px"},children:[(0,u.jsx)(S.Z,{src:null===i||void 0===i?void 0:i.emp_img,className:"avatar me-1"}),(0,u.jsx)("label",{className:"text-cmGrey900",style:{fontWeight:700},children:null===i||void 0===i?void 0:i.emp_name}),(0,u.jsxs)("label",{className:"ms-1 text-cmGrey700",style:{fontWeight:500},children:["(",(0,Z.Kj)(n),"-",(0,Z.Kj)(d),")"]})]}),(0,u.jsxs)("div",{className:" shadow-sm w-md-325px mb-5 bg-white border border-cmGrey200 border-2 p-3",style:{borderRadius:"10px"},children:[(0,u.jsx)("div",{className:"container border-bottom border-cmGrey200 border-2",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row g-2 my-1 p-2 align-items-center",children:[(0,u.jsx)("div",{className:"col-6 text-cmGrey600",style:{fontWeight:600,fontFamily:"Manrope"},children:"Commission Withheld"}),(0,u.jsx)("div",{className:"col-6 text-cmGrey800 ",style:{fontFamily:"Manrope",fontWeight:600},children:(0,w.BM)(null!==(l=null===i||void 0===i?void 0:i.commissionWithholding)&&void 0!==l?l:"0")})]})}),(0,u.jsx)("div",{className:"container border-bottom border-cmGrey200 border-2",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row g-2 my-1 p-2 align-items-center",children:[(0,u.jsx)("div",{className:"col-6 text-cmGrey700 ",style:{fontWeight:600,fontFamily:"Manrope"},children:"Overrides Due"}),(0,u.jsx)("div",{className:"col-6 text-cmGrey800",style:{fontFamily:"Manrope",fontWeight:600},children:(0,w.BM)(null===i||void 0===i?void 0:i.override_due,"$")})]})}),(0,u.jsx)("div",{className:"container border-bottom border-cmGrey200 border-2",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row g-2 my-1 p-2 align-items-center",children:[(0,u.jsx)("div",{className:"col-6 text-cmGrey700",style:{fontWeight:600,fontFamily:"Manrope"},children:"Clawbacks"}),(0,u.jsx)("div",{className:"col-6 text-cmGrey800",style:{fontFamily:"Manrope",fontWeight:600},children:(0,w.BM)(null===i||void 0===i?void 0:i.deduction_due,"$")})]})}),(0,u.jsx)("div",{className:"container border-bottom border-cmGrey200 border-2",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row g-2 my-1 p-2 align-items-center",children:[(0,u.jsx)("div",{className:"col-6 text-cmGrey700 ",style:{fontWeight:600,fontFamily:"Manrope"},children:"Total Due"}),(0,u.jsx)("div",{className:"col-6 text-cmGrey800",style:{fontFamily:"Manrope",fontWeight:600},children:(0,w.BM)(null===i||void 0===i?void 0:i.total_due,"$")})]})}),(0,u.jsx)("div",{className:"container ",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row g-2 my-1 p-2 align-items-center text-cmGrey900",children:[(0,u.jsx)("div",{className:"col-6 ",style:{fontFamily:"Manrope",fontWeight:"700"},children:"Net Pay"}),(0,u.jsx)("div",{className:"col-6",style:{fontFamily:"Manrope",fontWeight:"600"},children:(0,w.BM)(null===i||void 0===i?void 0:i.total_paid,"$")})]})})]})]}),(0,u.jsxs)("div",{className:"col-sm",children:[(0,u.jsx)("div",{className:" text-cmGrey800",style:{fontFamily:"Manrope",fontSize:"14px",fontWeight:"600"},children:"Adjust Amount"}),(0,u.jsx)("div",{className:"container mt-5",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontWeight:600,fontFamily:"Manrope"},children:"Commission Withheld"}),(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontFamily:"Manrope"},children:(0,u.jsx)(J.ZP,{type:J.rC.number,placeholder:"Amount",onChange:e=>c(e.target.value),value:r})})]})}),(0,u.jsx)("div",{className:"container mt-5",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontWeight:600,fontFamily:"Manrope"},children:"Overrides Due"}),(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontFamily:"Manrope"},children:(0,u.jsx)(J.ZP,{type:J.rC.number,placeholder:"Amount",onChange:e=>x(e.target.value),value:m})})]})}),(0,u.jsx)("div",{className:"container mt-5",style:{fontSize:"14px"},children:(0,u.jsxs)("div",{className:"row align-items-center",children:[(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontWeight:600,fontFamily:"Manrope"},children:"Clawbacks"}),(0,u.jsx)("div",{className:"col-sm text-cmGrey800",style:{fontFamily:"Manrope"},children:(0,u.jsx)(J.ZP,{type:J.rC.number,placeholder:"Amount",onChange:e=>y(e.target.value),value:v})})]})})]})]})})})}),(0,u.jsx)("div",{className:"mt-2 w-75 mx-auto",children:(0,u.jsx)(J.ZP,{type:J.rC.textarea,errorMessage:_,placeholder:"Add a Comment (required)",value:f,onChange:e=>j(e.target.value)})}),(0,u.jsx)("div",{className:"d-flex justify-content-center my-10",children:(0,u.jsx)("button",{type:"button",className:"text-cmwhite mb-13 mt-3 bg-cmBlue-Crayola",style:{height:"46px",width:"187px",borderRadius:"6px",fontSize:"16px",borderWidth:0,fontWeight:700},onClick:()=>(()=>{const e={reconciliation_id:null===i||void 0===i?void 0:i.id,user_id:null===i||void 0===i?void 0:i.user_id,commission_withheld:r,overrides_due:m,clawback:v,comment:f,start_date:(0,Z.Kj)(n,"YYYY/MM/DD"),end_date:(0,Z.Kj)(d,"YYYY/MM/DD")};if(!e.comment)return N("Enter Comment");b(!0),(0,p.C37)(e).then((()=>{o(),a(),G.Z.success("Updated Successfully")})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>{b(!1)}))})(),children:"Edit Reconciliation"})})]})};t(1869);var ve=t(90899),ye=t(15478),fe=t(16235),je=t(79686);const ge=e=>{var l,t;let{show:a,handleClose:i,getReconciliationData:o}=e;const[n,d]=(0,s.useState)(!1),[r,c]=(0,s.useState)(re.Pf),[m,x]=(0,s.useState)({daily:null,weekly:null,biweekly:null,semimonthly:null,monthly:null}),{payPeriodList:v,monthlyPayPeriodList:y,weekDropdownList:f}=(0,Y.Z)(),j=()=>{i()},g=(0,s.useMemo)((()=>null===v||void 0===v?void 0:v.map((e=>({...e,period:"".concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_from)," to ").concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_to))})))),[v]),b=(0,s.useMemo)((()=>null===y||void 0===y?void 0:y.map((e=>({...e,period:"".concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_from)," to ").concat((0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_to))})))),[y]),_=e=>f.some((l=>l.frequency_type_id===e));return(0,u.jsxs)(L.V,{id:"kt_modal_create_app",tabIndex:-1,"aria-hidden":"true",header:"Add To Payroll",className:"mw-sm-800px w-sm-75",visible:a,onHide:j,backdrop:!0,children:[(0,u.jsx)("hr",{className:"m-0 p-0 text-cmGrey900"}),(0,u.jsxs)("div",{className:"m-0 p-0",style:{fontFamily:"Manrope",fontSize:"14px",position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:n}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsxs)("div",{className:"modal-body  py-2 px-lg-10 mb-5",children:[(0,u.jsx)("div",{className:"py-lg-3 px-lg-10 mt-3",children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-wrap justify-content-between w-sm-75 mx-auto",style:{fontFamily:"Manrope",fontSize:"14px"},children:[(0,u.jsx)("div",{className:"w-50",children:(0,u.jsx)("h4",{className:"text-cmGrey800 mb-sm-5 mb-3 text-decoration-underline",style:{fontWeight:"900"},children:"Pay Frequency"})}),(0,u.jsx)("div",{className:"w-50 text-center",children:(0,u.jsx)("h4",{className:"text-cmGrey800 mb-sm-5 mb-3 text-decoration-underline",style:{fontWeight:"900"},children:"Pay Period"})})]}),(0,u.jsx)("hr",{style:{height:"2px"}})]})}),_(2)?(0,u.jsx)("div",{className:"py-lg-3 px-lg-10 ",children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-wrap justify-content-between w-sm-75 mx-auto",style:{fontFamily:"Manrope",fontSize:"14px"},children:[(0,u.jsx)("div",{children:(0,u.jsx)("h4",{className:"text-cmGrey800 mb-sm-5 mb-3",style:{fontWeight:"900"},children:"Weekly:"})}),(0,u.jsx)("div",{className:"w-sm-auto w-100",children:(0,u.jsx)($.Z,{options:g,displayKey:"period",valueKey:"id",value:null===m||void 0===m||null===(l=m.weekly)||void 0===l?void 0:l.id,onChange:e=>{let l=(null===v||void 0===v?void 0:v.length)>0?null===v||void 0===v?void 0:v.find((l=>(null===l||void 0===l?void 0:l.id)==e.target.value)):null;x((e=>({...e,weekly:{pay_period_from:null===l||void 0===l?void 0:l.pay_period_from,pay_period_to:null===l||void 0===l?void 0:l.pay_period_to,id:null===l||void 0===l?void 0:l.id}})))},errorMessage:null===r||void 0===r?void 0:r.week})})]}),(0,u.jsx)("hr",{style:{height:"2px"}})]})}):(0,u.jsx)(u.Fragment,{}),_(5)?(0,u.jsx)("div",{className:"py-lg-3 px-lg-10 ",children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center flex-wrap justify-content-between w-sm-75 mx-auto",style:{fontFamily:"Manrope",fontSize:"14px"},children:[(0,u.jsx)("div",{children:(0,u.jsx)("h4",{className:"text-cmGrey800 mb-sm-5 mb-3",style:{fontWeight:"900"},children:"Monthly:"})}),(0,u.jsx)("div",{className:"w-sm-auto w-100",children:(0,u.jsx)($.Z,{options:b,displayKey:"period",onChange:e=>{let l=(null===v||void 0===v?void 0:v.length)>0?null===y||void 0===y?void 0:y.find((l=>(null===l||void 0===l?void 0:l.id)==e.target.value)):null;x((e=>({...e,monthly:{pay_period_from:null===l||void 0===l?void 0:l.pay_period_from,pay_period_to:null===l||void 0===l?void 0:l.pay_period_to,id:null===l||void 0===l?void 0:l.id}})))},valueKey:"id",value:null===m||void 0===m||null===(t=m.monthly)||void 0===t?void 0:t.id,errorMessage:null===r||void 0===r?void 0:r.month})})]}),(0,u.jsx)("hr",{style:{height:"2px"}})]})}):null]}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsx)("div",{className:"btn bg-cmBlue-Crayola py-2 text-cmwhite",style:{fontWeight:"500"},onClick:()=>{const e={data:Object.fromEntries(Object.entries(m).filter((e=>{let[l,t]=e;return null!==t})))},l=_(2),t=_(5),a=(0,re.Jl)(e,l,t);c(a),(0,w.$V)(a)&&(d(!0),(0,p.Y2n)(e).then((()=>{j(),G.Z.success("Added to payroll successfully"),o()})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>d(!1))))},children:"Add To Payroll"})})]})]})]})};var be=t(95746),_e=t(32092);const Ne=e=>{var l,t,a,i,o,n,d,r,c;let{className:m,tableData:x,onSearch:p,onFinilize:h,dateDropDown:v,setStartDate:y,setEndDate:f,getReconciliationData:j,onPageChange:g,activePage:b,startDate:_,endDate:k,selectedPeriod:C,setSelectedPeriod:D,payrollReconHistory:M,setPayrollReconHistory:G,search:W}=e;const[R,z]=(0,s.useState)(!1),[T,E]=(0,s.useState)(null),[B,q]=(0,s.useState)(!1),[V,Y]=(0,s.useState)(!1),[K,L]=(0,s.useState)(!1),[H,O]=(0,s.useState)(!1),[I,U]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(null),[ee,le]=(0,s.useState)(null),te=(0,s.useMemo)((()=>null===v||void 0===v?void 0:v.map((e=>({...e,period:"".concat((0,Z.Kj)(null===e||void 0===e?void 0:e.period_from)," to ").concat((0,Z.Kj)(null===e||void 0===e?void 0:e.period_to))})))));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"card shadow-sm mt-7 ".concat(m),children:(0,u.jsxs)("div",{className:"card-body shadow-none py-0 px-0 mx-0",children:[(0,u.jsx)("div",{className:" bg-cmwhite",style:{fontSize:"14px",fontFamily:"Manrope"},children:(0,u.jsxs)("div",{className:"m-5 d-flex gap-5 flex-wrap justify-content-between",children:[(0,u.jsx)("div",{children:(0,u.jsx)(J.ZP,{type:J.rC.search,name:"search",onChange:e=>{X(e.target.value),p(e.target.value)},value:Q||""})}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{name:"status",onChange:e=>{const l=null===v||void 0===v?void 0:v.find((l=>l.id==e.target.value));D(l),G(!1),g(1),y(null===l||void 0===l?void 0:l.period_from),f(null===l||void 0===l?void 0:l.period_to)},options:te,valueKey:"id",displayKey:"period",showClear:!1,value:null===C||void 0===C?void 0:C.id})}),(null===x||void 0===x||null===(l=x.data)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.length)>0&&!M?(0,u.jsx)(A.ZP,{buttonType:null!==x&&void 0!==x&&x.finalize_status?A.JB.success:A.JB.primary,buttonLabel:null!==x&&void 0!==x&&x.finalize_status?(0,u.jsx)("label",{children:"Add to Payroll"}):(0,u.jsx)("label",{children:"Finalize Reconciliation"}),onClick:()=>null!==x&&void 0!==x&&x.finalize_status?void q(!0):void F.Z.warn("Are you sure you want to finalize ?",(()=>{h()}))}):null]})}),(0,u.jsx)("div",{className:"table-responsive shadow-none overflow-auto",children:(0,u.jsxs)("table",{className:"table",style:{tableLayout:"fixed",width:"100%"},children:[(0,u.jsx)("thead",{className:w.fd,children:(0,u.jsxs)("tr",{className:"bg-cmGrey300 text-cmGrey900",style:{fontSize:"14px",fontWeight:"700",fontFamily:"Manrope"},children:[(0,u.jsx)("th",{className:"w-200px p-5 ",children:"Employee Name"}),(0,u.jsx)("th",{className:"w-200px p-5 ",children:"Commission Withheld"}),(0,u.jsx)("th",{className:"w-150px p-5 ",children:"Override Due"}),(0,u.jsx)("th",{className:"p-5 w-125px",children:"Clawbacks"}),(0,u.jsx)("th",{className:"p-5 w-175px",children:"Total Adjustments"}),(0,u.jsx)("th",{className:"w-100px p-5 ",children:"Total Due"}),M&&(0,u.jsx)("th",{className:"w-100px p-5 ",children:"Pay Period"}),(0,u.jsx)("th",{className:"w-75px p-5"})]})}),(0,u.jsx)("tbody",{className:w.fd,children:(null===x||void 0===x||null===(a=x.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.length)>0?(0,u.jsx)(u.Fragment,{children:null===x||void 0===x||null===(o=x.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.map(((e,l)=>{var t;return(0,u.jsxs)("tr",{className:"text-cmGrey600 ",style:{height:"40px",fontSize:"14px",fontFamily:"Manrope",fontWeight:600},children:[(0,u.jsx)("td",{className:"p-5 text-cmGrey800",style:{textDecoration:"underline",fontFamily:"Manrope",fontWeight:"700"},children:(0,u.jsxs)(P.Z,{employeeId:null===e||void 0===e?void 0:e.user_id,children:[(0,u.jsx)(S.Z,{src:null===e||void 0===e?void 0:e.emp_img,className:"avatar me-3"})," ",null!==(t=null===e||void 0===e?void 0:e.emp_name)&&void 0!==t?t:"-"]})}),(0,u.jsx)("td",{className:"p-5 text-decoration-underline cursor-pointer",onClick:()=>(e=>{L(!0),le(e)})(e),children:(0,w.BM)(null===e||void 0===e?void 0:e.commissionWithholding,"$")}),(0,u.jsx)("td",{className:"p-5 text-decoration-underline cursor-pointer",onClick:()=>(e=>{Y(!0),le(e)})(e),children:(0,w.BM)(null===e||void 0===e?void 0:e.overrideDue,"$")}),(0,u.jsx)("td",{className:"p-5 text-decoration-underline cursor-pointer",onClick:()=>(e=>{O(!0),le(e)})(e),children:(0,w.BM)(null===e||void 0===e?void 0:e.clawbackDue,"$")}),(0,u.jsx)("td",{className:"p-5 text-decoration-underline cursor-pointer",onClick:()=>(e=>{U(!0),le(e)})(e),children:(0,w.BM)(null===e||void 0===e?void 0:e.totalAdjustments,"$")}),(0,u.jsx)("td",{className:"p-5 text-cmGrey900",style:{fontWeight:700},children:(0,w.BM)(null===e||void 0===e?void 0:e.total_due,"$")}),M&&(0,u.jsxs)("td",{className:"p-5 text-cmGrey900",style:{fontWeight:700},children:[(0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_from)," -"," ",(0,Z.Kj)(null===e||void 0===e?void 0:e.pay_period_to)]}),(0,u.jsx)("td",{className:"text-center",style:{cursor:"pointer"},children:null!==x&&void 0!==x&&x.finalize_status?null:(0,u.jsx)(be.Z,{onClick:()=>{E(e),z(!0)}})})]},l)}))}):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:7,className:"p-5",children:(0,u.jsx)(_e.Z,{label:"No data found"})})},"no-data")})]})})]})}),(null===x||void 0===x||null===(d=x.data)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.length)>0?(0,u.jsx)(N.Z,{page:b&&b,totalPages:null===x||void 0===x||null===(c=x.data)||void 0===c?void 0:c.last_page,setPage:e=>g(e)}):null,(0,u.jsx)(he,{show:R,handleClose:()=>{z(!1)},preData:T,getReconciliationData:j,startDate:_,endDate:k}),B?(0,u.jsx)(ge,{show:B,handleClose:()=>q(!1),getReconciliationData:j}):null,V?(0,u.jsx)(ve.K,{show:V,handleClose:()=>{Y(!1)},userData:ee}):null,K?(0,u.jsx)(ye.G,{show:K,handleClose:()=>{L(!1)},userData:ee}):null,H?(0,u.jsx)(fe.N,{show:H,handleClose:()=>{O(!1)},userData:ee}):null,I?(0,u.jsx)(je.C,{show:I,handleClose:()=>{U(!1)},userData:ee}):null]})};function we(){var e,l;const t=(0,n.v9)(d.Ux),[a,i]=(0,s.useState)(!1),[o,r]=(0,s.useState)(null),[c,m]=(0,s.useState)(null===(e=t[0])||void 0===e?void 0:e.period_from),[x,v]=(0,s.useState)(null===(l=t[0])||void 0===l?void 0:l.period_to),[f,j]=(0,s.useState)(""),[g,b]=(0,s.useState)(1),[_,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null===t||void 0===t?void 0:t[0]),P=(0,n.I0)();(0,s.useEffect)((()=>{P((0,K.RP)())}),[]),(0,s.useEffect)((()=>{let e=null===t||void 0===t?void 0:t.find((e=>(0,Z.Kj)(null===e||void 0===e?void 0:e.period_from,"YYYY-MM-DD 00:00",!0)<=(0,Z.Kj)(new Date,"YYYY-MM-DD 00:00",!0)&&(0,Z.Kj)(new Date,"YYYY-MM-DD 00:00",!0)<=(0,Z.Kj)(null===e||void 0===e?void 0:e.period_to,"YYYY-MM-DD 00:00",!0)));S(e)}),[]),(0,s.useEffect)((()=>{C()}),[f,k,g]);const C=()=>{i(!0);const e={start_date:null===k||void 0===k?void 0:k.period_from,end_date:null===k||void 0===k?void 0:k.period_to,search:f,page:g};(0,p.Slw)(e).then((e=>{r(e)})).finally((()=>i(!1)))},D=()=>{i(!0);const e={start_date:c,end_date:x};(0,p.zSQ)(e).then((e=>{r(e)})).catch((e=>{G.Z.error((0,w.oN)(e))})).finally((()=>i(!1)))},M=(0,s.useCallback)(y()((e=>{j(e)}),500),[]);return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(h.Z,{full:!0,visible:a}),(0,u.jsx)("div",{className:"engage-toolba r d-flex position-fixed px-5  zindex-2 top-50 end-0 transform-90 mt-20 gap-2"}),(0,u.jsx)("div",{className:"card bg-white h-auto",style:{fontSize:"14px"},children:(0,u.jsx)("div",{className:"px-5  py-5 d-flex flex-wrap justify-content-start",children:(0,u.jsx)("div",{className:"d-flex justify-content-between gap-3",children:(0,u.jsx)("div",{children:(0,u.jsx)(A.ZP,{buttonType:A.JB.secondary,style:{height:"43px"},buttonLabel:_?(0,u.jsx)("label",{children:"Pending Payroll"}):(0,u.jsx)("label",{children:"Payroll-Recon History"}),onClick:e=>{N(!_),_?C():D()},icon:"bi bi-clock-history"})})})})}),(0,u.jsx)("div",{children:(0,u.jsx)(Ne,{className:"mx-0 px-0",tableData:o,onSearch:e=>M(e),setEndDate:v,startDate:c,endDate:x,setStartDate:m,onFinilize:()=>{i(!0);const e={start_date:c,end_date:x};(0,p.VtP)(e).then((()=>C())).catch((e=>{i(!1),G.Z.error((0,w.oN)(e))}))},dateDropDown:t,getReconciliationData:C,activePage:g,onPageChange:e=>(e=>{b(e)})(e),onPayrollReconHistory:D,setPayrollReconHistory:N,payrollReconHistory:_,search:f,setSelectedPeriod:S,selectedPeriod:k},"reconcilation-table")})]})}const ke=[{title:"Dashboard/",path:"/",isSeparator:!1,isActive:!1},{title:"Payroll/",path:"payroll/run-payroll",isSeparator:!1,isActive:!1}],Se=()=>(0,u.jsx)("div",{className:"px-sm-10",style:{marginTop:-20},children:(0,u.jsx)(a.Z5,{children:(0,u.jsxs)(a.AW,{element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x,{}),(0,u.jsx)(a.j3,{})]}),children:[(0,u.jsx)(a.AW,{path:"run-payroll",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.V1,{breadcrumbs:ke,children:"Run-Payroll"}),(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.runPayrollAndApprovals.view,showPlaceHolder:!0,children:(0,u.jsx)(ne,{})})]})}),(0,u.jsx)(a.AW,{path:"one-time-payment",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.V1,{breadcrumbs:ke,children:"One-Time Payment"}),(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.oneTimePayment.view,showPlaceHolder:!0,children:(0,u.jsx)(xe,{})})]})}),(0,u.jsx)(a.AW,{path:"payment-request",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.V1,{breadcrumbs:ke,children:"Payment Request"}),(0,u.jsx)(pe,{})]})}),(0,u.jsx)(a.AW,{path:"reconciliation",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.V1,{breadcrumbs:ke,children:"Reconciliation"}),(0,u.jsx)(r.ZP,{customCondition:c.l.administrator.payroll.payrollReconciliation.view,showPlaceHolder:!0,children:(0,u.jsx)(we,{})})]})}),(0,u.jsx)(a.AW,{index:!0,element:(0,u.jsx)(a.Fg,{to:"/payroll"})})]})})})},46012:(e,l,t)=>{t.d(l,{Z:()=>r});var a=t(72791),i=t(76033),s=t(55886),o=t(763),n=t.n(o),d=(t(84271),t(80184));const r=e=>{let{zIndex:l=10,onSearch:t,onSelectValue:o=(()=>{}),selectedValue:r="",display_field_name:c="name",placeholder:m="Who hired this Person",style:u,errorMessage:x="",customEmptyMessage:p="No Data Found"}=e;const h=(0,a.useRef)(null),v=(0,a.useRef)(null),[y,f]=(0,a.useState)(!1),[j,g]=(0,a.useState)([]),[b,_]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1);(0,a.useEffect)((()=>{b||g([])}),[b]);const k=(0,a.useCallback)(n().debounce((e=>{var l,a;_(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value),f(!0),t(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value).then(g).finally((()=>f(!1)))}),500),[]);(0,a.useEffect)((()=>{var e;N?null===h||void 0===h||null===(e=h.current)||void 0===e||e.focus():(_(""),g([]))}),[N]);const S=(0,a.useCallback)((e=>{o(e),w(!1)}),[o]),P=(0,a.useCallback)((()=>{setTimeout((()=>{w(!1)}),300)}),[]),C=(0,a.useCallback)((()=>{w((e=>!e))}),[]);return(0,d.jsxs)("div",{style:{width:"100%",zIndex:l},children:[(0,d.jsx)("div",{style:{width:"100%"},children:(0,d.jsx)("input",{autoComplete:"off",ref:v,readOnly:!0,type:"search",value:null!==r&&void 0!==r?r:"",onClick:C,style:{background:"#FAFAFA",fontWeight:600,color:"#424242",fontSize:"14px",width:"100%",...u},name:"input",placeholder:m,className:"form-select p-3 h-50px form-select-black form-select-sm ".concat(x?"border-cmError":"")})}),(0,d.jsx)("div",{className:"p-error ms-2 text-cmError",style:{fontSize:"12px",fontWeight:600,fontFamily:"Manrope"},children:x}),N&&(0,d.jsx)("div",{className:"d-flex justify-content-center",style:{width:"100%",position:"relative"},children:(0,d.jsx)("div",{className:"shadow bg-white",style:{position:"absolute",width:"100%",zIndex:l,background:"green",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:10,borderBottomLeftRadius:10,fontWeight:600},children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"",style:{width:"100%"},children:[(0,d.jsxs)("div",{className:"mb-1 mx-auto py-3",children:[(0,d.jsx)(i.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2 svg-icon-lg-1 svg-icon-gray-500 position-absolute mt-6 ms-3 translate-middle-y"}),(0,d.jsx)("input",{autoComplete:"off",ref:h,onBlur:P,type:"search",style:{background:"white",border:"none",width:"100%"},onChange:k,className:"form-control form-control-solid px-12 ",name:"search",placeholder:"Search..."})]}),(0,d.jsx)("div",{style:{border:"0.5px solid #E0E0E0",width:"100%",marginTop:"-5px"}})]}),(0,d.jsxs)("div",{className:"my-4 ",style:{width:"100%",overflowY:"scroll"},children:[(0,d.jsx)(s.Z,{visible:y,opacity:0}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[!y&&b&&(null===j||void 0===j?void 0:j.length)<=0&&(0,d.jsx)("span",{className:"text-cmGrey300",style:{fontSize:14,fontFamily:"Manrope"},children:p}),!y&&!b&&(0,d.jsx)("span",{className:"text-cmGrey500",children:"Please search"})]}),(0,d.jsx)("div",{style:{maxHeight:200},children:!y&&b&&j.map(((e,l)=>(0,d.jsx)("div",{className:"d-flex flex-row",style:{paddingLeft:15,paddingRight:15,border:"2px solid lightgrey",borderTopWidth:0,borderBottomWidth:(null===j||void 0===j?void 0:j.length)-1==l?0:2,borderLeftWidth:0,borderRightWidth:0,width:"100%",height:"100%",cursor:"pointer"},onClick:()=>{S(e)},children:(0,d.jsx)("div",{style:{fontFmaily:"Manrope ms-10 mt-5",fontWeight:"600",fontSize:"14px",width:"100%",height:"100%"},children:(0,d.jsx)("p",{className:"mt-2",children:null===e||void 0===e?void 0:e[c]})})},l)))})]})]})})})]})}},28555:(e,l,t)=>{t.d(l,{Z:()=>n});var a=t(59434),i=t(43504),s=t(68405),o=t(80184);const n=e=>{let{employeeId:l=null,children:t,underline:n=!0,className:d=null,style:r=null,target:c="_self"}=e;const m=(0,a.v9)(s.VP),u=(0,a.v9)(s.Uu),x=l&&(m||u);return(0,o.jsx)(i.rU,{to:x?"/user/personal-info?employeeId=".concat(l):"",target:"",state:{employee_id:l},style:{pointerEvents:x?"auto":"none"},children:(0,o.jsx)("span",{className:"".concat(x?"cursor-pointer":""," text-cmGrey800 d-flex align-items-center ").concat(d),style:{fontWeight:700,...x&&n?{textDecoration:"underline"}:null,...r},children:t})})}}}]);
//# sourceMappingURL=8742.c3a475e7.chunk.js.map