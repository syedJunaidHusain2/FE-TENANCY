{"version":3,"file":"static/js/4877.442935ae.chunk.js","mappings":"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","sources":["app/modules/standard_manager/integration/components/ViewLogPage.js"],"sourcesContent":["import React, {useCallback, useEffect, useState} from 'react'\nimport {fontsFamily} from '../../../../../assets/fonts/fonts'\nimport CustomInput, {\n    INPUT_TYPE,\n} from '../../../../../customComponents/customInputs/customInput/CustomInput'\nimport {KTSVG} from '../../../../../_metronic/helpers'\nimport {Link, useLocation, useNavigate} from 'react-router-dom'\nimport Pagination from '../../../admin/sequidocs/component/Pagination'\nimport CustomButton, {BUTTON_TYPE} from '../../../../../customComponents/customButtton/CustomButton'\nimport {getIntegrationLogsService} from '../../../../../services/Services'\nimport {getValidDate} from '../../../../../constants/constants'\nimport CustomLoader from '../../../../../customComponents/customLoader/CustomLoader'\nimport {debounce} from 'lodash'\nimport CustomDatePicker from '../../../../../customComponents/customInputs/customDatePicker/CustomDatePicker'\nimport CustomLink from '../../../../../customComponents/customButtton/CustomLink'\n\nconst ViewLogPage = () => {\n    const naviagte = useNavigate()\n    const [logsData, setLogsData] = useState(null)\n    const [loading, setLoading] = useState(true)\n    const [selectedDate, setSelectedDate] = useState(null)\n    const [activePage, setActivePage] = useState(1)\n\n    const location = useLocation()\n\n    useEffect(() => {\n        const date = getValidDate(selectedDate, 'YYYY-MM-DD') ?? null\n        const body = {\n            date: date,\n            crm_id: location?.state?.id,\n            page: activePage,\n        }\n        getIntegrationLogsService(body)\n            .then((res) => setLogsData(res?.data))\n            .finally(() => setLoading(false))\n    }, [selectedDate, activePage])\n\n    const handleDateFilterChange = (e) => {\n        setLoading(true)\n        setSelectedDate(e.target.value)\n    }\n    const onChangePage = (val) => {\n        setActivePage(val)\n    }\n\n    return (\n        <div\n            className=''\n            style={{fontSize: 14, fontFamily: fontsFamily.manrope, position: 'relative'}}\n        >\n            <CustomLoader full visible={loading} />\n\n            <div\n                className='bg-cmwhite shadow-sm d-flex align-itmes-center justify-content-between py-2 ps-5 pe-2 mb-10'\n                style={{borderRadius: 10}}\n            >\n                <div className='d-flex flex-center gap-2'>\n                    <KTSVG\n                        svgStyle={{width: '24px', height: '24px'}}\n                        path='/media/icons/duotune/art/back-square.svg'\n                        className='cursor-pointer'\n                        onClick={() => naviagte(-1)}\n                    />\n                    <div className='text-cmGrey900' style={{fontWeight: 600}}>\n                        {location?.state?.name} | View log\n                    </div>\n                </div>\n                <div>\n                    <CustomDatePicker value={selectedDate} onChange={handleDateFilterChange} />\n                    {/* <CustomInput\n                        type={INPUT_TYPE.search}\n                        placeholder='Search by  date'\n                        onChange={handleLocationChange}\n                        value={searchText}\n                    /> */}\n                </div>\n            </div>\n            {/* Table starts */}\n            <div className='table-responsive shadow-sm overflow-auto' style={{borderRadius: 10}}>\n                <table className='table' style={{borderRadius: 10}}>\n                    <thead>\n                        <tr\n                            className='bg-cmGrey300 text-cmGrey900'\n                            style={{\n                                fontSize: '12px',\n                                fontWeight: '800',\n                                fontFamily: fontsFamily.manrope,\n                            }}\n                        >\n                            <th></th>\n                            <th className='p-5 text-nowrap'>Date & Time</th>\n                            <th className='p-5 text-nowrap text-center'>Total Records</th>\n                            <th className='p-5 text-nowrap text-center'>New Records</th>\n                            <th className='p-5 text-nowrap text-center'>Updated Records</th>\n                            <th className='p-5 text-nowrap text-center'>Contacts Pushed</th>\n                            <th className='p-5 text-nowrap text-center'>Errors</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {logsData?.data?.length > 0 ? (\n                            <>\n                                {logsData?.data?.map((item, i) => (\n                                    <tr\n                                        key={item.id}\n                                        className='text-cmGrey700 stripRow '\n                                        style={{\n                                            fontSize: '14px',\n                                            fontWeight: 600,\n                                        }}\n                                    >\n                                        <td></td>\n                                        <td className='p-5'>\n                                            {' '}\n                                            {getValidDate(item?.week_date, 'MM/DD/YYYY hh:mm a')}\n                                        </td>\n                                        <td className='p-5 text-nowrap text-center'>\n                                            {item?.no_of_records ?? '-'}\n                                        </td>\n                                        <td className='p-5 text-nowrap text-center'>\n                                            {item?.new_records ?? '-'}\n                                        </td>\n                                        <td className='p-5 text-nowrap text-center'>\n                                            {item?.updated_records ?? '-'}\n                                        </td>\n                                        <td className={`p-5 text-nowrap text-center`}>\n                                            {item?.contact_pushed ?? '-'}\n                                        </td>\n                                        <td className='p-5 text-center text-cmError'>\n                                            {item?.errors ?? '-'}\n                                        </td>\n                                        <td className='p-5 text-nowrap text-center '>\n                                            {item?.log_file_name ? (\n                                                <a\n                                                    href={item?.log_file_name}\n                                                    rel='noreferrer'\n                                                    target='_blank'\n                                                >\n                                                    <CustomLink label={'Raw Log'} />\n                                                </a>\n                                            ) : (\n                                                'No Raw File'\n                                            )}\n                                        </td>\n                                    </tr>\n                                ))}\n                            </>\n                        ) : (\n                            <tr key='no-data'>\n                                <td\n                                    colSpan={8}\n                                    style={{\n                                        textAlign: 'center',\n                                        fontFamily: 'Manrope',\n                                        fontWeight: '500',\n                                        fontSize: 14,\n                                        paddingTop: 20,\n                                        paddingBottom: 20,\n                                    }}\n                                >\n                                    No data found\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n                {\n                    <Pagination\n                        page={activePage}\n                        totalPages={logsData?.last_page}\n                        setPage={onChangePage}\n                    />\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default ViewLogPage\n"],"names":["ViewLogPage","_location$state2","_logsData$data","_logsData$data2","naviagte","useNavigate","logsData","setLogsData","useState","loading","setLoading","selectedDate","setSelectedDate","activePage","setActivePage","location","useLocation","useEffect","_getValidDate","_location$state","body","date","getValidDate","crm_id","state","id","page","getIntegrationLogsService","then","res","data","finally","_jsxs","className","style","fontSize","fontFamily","fontsFamily","position","children","_jsx","CustomLoader","full","visible","borderRadius","KTSVG","svgStyle","width","height","path","onClick","fontWeight","name","CustomDatePicker","value","onChange","e","target","length","_Fragment","map","item","i","_item$no_of_records","_item$new_records","_item$updated_records","_item$contact_pushed","_item$errors","week_date","no_of_records","new_records","updated_records","contact_pushed","errors","log_file_name","href","rel","CustomLink","label","colSpan","textAlign","paddingTop","paddingBottom","Pagination","totalPages","last_page","setPage","val"],"sourceRoot":""}