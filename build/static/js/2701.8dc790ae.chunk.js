"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2701],{52701:(e,t,i)=>{i.r(t),i.d(t,{default:()=>G});var d=i(72791),n=i(10534),a=i(6801),l=i(90575),o=i(64750),r=i(69687);(0,i(77826).i)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var s=(0,o.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:r.Nt,dateProfileGeneratorClass:r.XK},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),c=i(52720),v=i(39159),u=i(54286),m=i(55886),f=i(13524),y=i(38202),p=i(84271),x=i(59153),g=i(96067),b=i(87311),h=i(58728),j=i(1869),w=(i(54164),i(763)),C=i.n(w),N=i(68405),S=i(59434),k=i(45629),M=i(14565),D=i(80184);document.getElementById("root-modals")||document.body;const Z=e=>{var t,i;let{show:n,handleClose:a}=e;const[l,o]=(0,d.useState)("sun"),[r,s]=(0,d.useState)(null),[c,u]=(0,d.useState)(null),[f,y]=(0,d.useState)(null),[p,x]=(0,d.useState)(!1),h=(0,S.v9)(N.yV);(0,d.useEffect)((()=>{x(!0),(0,v.Vqm)().then((e=>{u(e.data);let t=null===e||void 0===e?void 0:e.data;(0,v.iVm)(null===h||void 0===h?void 0:h.id).then((e=>{var i;y(e.data);const d=null===e||void 0===e?void 0:e.data;null===(i=Object.keys(d))||void 0===i||i.map(((e,i)=>{var n;null===(n=d[e])||void 0===n||n.map(((i,d)=>{let n=t[e].findIndex((e=>e.time_slot==i));t[e][n].checked=!0,u(t),s(t[l])}))}))})).finally((()=>x(!1)))}))}),[n]);const j=(e,t)=>{s(c&&c[e]),o(e)};return(0,D.jsxs)(k.Z,{show:n,onHide:a,maxWidth:"1000",title:"Set Availability",children:[(0,D.jsx)(m.Z,{full:!0,visible:p}),(0,D.jsxs)("div",{className:"mx-auto text-center mb-20 w-100",style:{fontFamily:"Manrope",fontWeight:"600"},children:[(0,D.jsx)("div",{className:"text-cmGrey900 mb-10",style:{fontSize:"16px"},children:"Select timeslots you are available for hiring"}),(0,D.jsxs)("div",{className:"d-flex justify-content-between align-items-center text-cmGrey700 w-75 mx-auto mb-15 overflow-auto ",style:{fontWeight:"600",fontSize:"18px"},children:[(0,D.jsx)("div",{onClick:()=>{j("sun")},className:"".concat("sun"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Sunday"}),(0,D.jsx)("div",{onClick:()=>j("mon"),className:"".concat("mon"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Monday"}),(0,D.jsx)("div",{onClick:()=>j("tue"),className:"".concat("tue"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Tuesday"}),(0,D.jsx)("div",{onClick:()=>j("wed"),className:"".concat("wed"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Wednesday"}),(0,D.jsx)("div",{onClick:()=>j("thu"),className:"".concat("thu"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Thursday"}),(0,D.jsx)("div",{onClick:()=>j("fri"),className:"".concat("fri"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Friday"}),(0,D.jsx)("div",{onClick:()=>j("sat"),className:"".concat("sat"===l?"border-cmBlue-Crayola border-bottom border-3 text-cmBlue-Crayola":""," cursor-pointer pb-2 px-2"),children:"Saturday"})]}),(0,D.jsx)("div",{className:"mx-auto mb-20",style:{width:"90%"},children:(0,D.jsx)("div",{className:"row gap-10",children:c&&(null===(t=c[l])||void 0===t?void 0:t.length)>0?null===(i=c[l])||void 0===i?void 0:i.map(((e,t)=>(0,D.jsx)("div",{className:null!==e&&void 0!==e&&e.checked?"col-md-2 border-0 bg-cmBlue-Crayola bg-opacity-20 text-cmBlue-Crayola py-2 rounded cursor-pointer":"col-md-2 border-cmGrey700 border py-2 rounded cursor-pointer",onClick:()=>((e,t)=>{var i;let d=C().cloneDeep(c),n=null!==(i=d[l][t].checked)&&void 0!==i&&i;d[l][t].checked=!n,u(d)})(0,t),children:e.time_slot},t))):(0,D.jsx)("div",{children:(0,D.jsx)("span",{children:"No Time Slot Available"})})})}),(0,D.jsx)(M.ZP,{buttonType:M.JB.primary,buttonLabel:" Set availability",onClick:()=>{x(!0);const e={user_id:null===h||void 0===h?void 0:h.id,schedule:Object.keys(c).map(((e,t)=>{var i,d;return{day:e,time:null===(i=c[e])||void 0===i||null===(d=i.filter((e=>null===e||void 0===e?void 0:e.checked)))||void 0===d?void 0:d.map((e=>({slot:e.time_slot})))}}))};(0,v.GnQ)(e).then((()=>{a()})).catch((e=>{g.Z.error((0,b.oN)(e))})).finally((()=>{x(!1),g.Z.success("Availability Updated")}))}})]})]})};var B=i(42822),E=i(11944),T=i(76033);function z(e){var t,i,a,o;let{selecetedLocation:r,show:w,setShow:C,timeSlotModal:N,setTimeSlotModal:S}=e;const[z,_]=(0,d.useState)(null),[G,P]=(0,d.useState)(null),[A,I]=(0,d.useState)(null),[F,W]=(0,d.useState)(null),[V,Y]=(0,d.useState)(null),[L,q]=(0,d.useState)(),[H,J]=(0,d.useState)([]),[O,K]=(0,d.useState)(!1),[U,X]=(0,d.useState)(!1),[R,$]=(0,d.useState)(h.zW),[Q,ee]=(0,d.useState)(!1),te=(0,d.useRef)(!0);let ie={Meeting:" rgba(255, 168, 0, 0.1)",Interview:"rgba(0, 194, 71, 0.1)",StartDate:"rgba(254, 103, 157, 0.1)",Trainings:"rgba(151, 71, 255, 0.1)"};(0,d.useEffect)((()=>{de()}),[r]);const de=()=>{K(!0);const e={office_id:r};(0,v.abV)(e).then((e=>{var t;let i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>{const t=null===e||void 0===e?void 0:e.event_date,i=null===e||void 0===e?void 0:e.event_time;if("Interview"==(null===e||void 0===e?void 0:e.type))var d,n,a,l,o=null===(d=i.split(" - "))||void 0===d||null===(n=d[0])||void 0===n?void 0:n.replace("AM"," AM").replace("PM"," PM"),r=null===(a=i.split(" - "))||void 0===a||null===(l=a[1])||void 0===l?void 0:l.replace("AM"," AM").replace("PM"," PM");else o=i,r=i;var s=new Date(o?"".concat(t," ").concat(o):t),c=new Date(r?"".concat(t," ").concat(r):t);return{title:null===e||void 0===e?void 0:e.event_name,date:null===e||void 0===e?void 0:e.event_date,description:null===e||void 0===e?void 0:e.description,type:null===e||void 0===e?void 0:e.type,id:null===e||void 0===e?void 0:e.id,display:"block",start:s,end:c,time:null===e||void 0===e?void 0:e.event_time,textColor:"Meeting"==(null===e||void 0===e?void 0:e.type)?"#FFA800":"StartDate"==(null===e||void 0===e?void 0:e.type)?"#FE679D":"Interview"==(null===e||void 0===e?void 0:e.type)?"#00C247":"Training"==(null===e||void 0===e?void 0:e.type)?" #9747FF":"#6078EC",backgroundColor:"Meeting"==(null===e||void 0===e?void 0:e.type)?null===ie||void 0===ie?void 0:ie.Meeting:"StartDate"==(null===e||void 0===e?void 0:e.type)?null===ie||void 0===ie?void 0:ie.StartDate:"Interview"==(null===e||void 0===e?void 0:e.type)?null===ie||void 0===ie?void 0:ie.Interview:"Training"==(null===e||void 0===e?void 0:e.type)?null===ie||void 0===ie?void 0:ie.Trainings:"rgba(96, 120, 236, 0.1)"}}));J(i)})).finally((()=>{K(!1)})).finally((()=>{K(!1)}))},ne={event_date:(0,f.Kj)(z,"yyyy-MM-DD"),type:null===A||void 0===A?void 0:A.toLowerCase(),event_name:V,description:L,state_code:r,event_time:G};(0,d.useEffect)((()=>{te.current&&(te.current=!1)}),[V,z,A]);const ae=e=>{e.preventDefault(),le()&&(K(!0),(0,v.lY1)(ne).finally((()=>{g.Z.success("Event Created Successfully"),de()})),re())},le=()=>{const e=(0,h.NJ)(ne);return $(e),(0,b.$V)(e)},oe=e=>{e.preventDefault(),le()&&(K(!0),(0,v.gg7)(null===F||void 0===F?void 0:F.id,ne).then((()=>{de(),g.Z.success("Event Updated Successfully")})).catch((e=>{g.Z.error((0,b.oN)(e))})).finally((()=>{})),re())},re=()=>{C(!1),ee(!1),$({eventName:"",eventDate:"",eventType:""}),_(null),Y(null),I(null),q(null),P(null)},se=(0,D.jsxs)("div",{className:"d-flex justify-content-between ",children:[(0,D.jsxs)("div",{children:[" ",(0,D.jsx)("span",{children:null===F||void 0===F?void 0:F.name})]}),"Interview"!=(null===F||void 0===F?void 0:F.type)&&"Hired"!=(null===F||void 0===F?void 0:F.type)?(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:"me-3",children:(0,D.jsx)("button",{onClick:()=>{X(!1),Y(null===F||void 0===F?void 0:F.name),I(null===F||void 0===F?void 0:F.type),_(new Date(null===F||void 0===F?void 0:F.date)),P(null===F||void 0===F?void 0:F.time),q(null===F||void 0===F?void 0:F.description),ee(!0),C(!0)},className:" btn btn-sm btn-icon  btn-bg-light btn-active-color-primary",children:(0,D.jsx)("img",{src:j,alt:"",width:32})})}),(0,D.jsx)("span",{className:"btn btn-sm btn-icon bg-cmError bg-opacity-10 me-3",children:(0,D.jsx)(E.Z,{onClick:()=>(()=>{let e=[...H];B.Z.warn("Are you sure you want to delete ?",(()=>{e=e.filter((e=>e.id!=(null===F||void 0===F?void 0:F.id))),J(e),X(!1),g.Z.success("Event Deleted Successfully"),(0,v.aPX)(null===F||void 0===F?void 0:F.id)}))})()})})]}):null]});return(0,D.jsxs)("div",{className:"",style:{position:"relative"},children:[(0,D.jsx)(m.Z,{full:!0,visible:O}),(0,D.jsx)(k.Z,{show:U,onHide:()=>X(!1),maxWidth:"300",title:se,children:(0,D.jsxs)("div",{className:"text-cmGrey800 ps-5",style:{fontSize:16,fontWeight:600},children:[(0,D.jsx)("div",{className:"mb-5",children:null!==(t=null===F||void 0===F?void 0:F.description)&&void 0!==t?t:"--"}),(0,D.jsxs)("div",{className:"mb-3 d-flex gap-5 align-items-center",children:[(0,D.jsx)("div",{children:(0,D.jsx)(T.D8,{path:"/media/icons/duotune/art/Calendar.svg",svgClassName:"w-25px h-25px"})}),(0,D.jsx)("div",{children:null!==(i=(0,f.Kj)(null===F||void 0===F?void 0:F.date))&&void 0!==i?i:"--"})]}),(0,D.jsxs)("div",{className:"mb-3 d-flex gap-5 align-items-center",children:[(0,D.jsx)("div",{children:(0,D.jsx)(T.D8,{path:"/media/icons/duotune/art/clock.svg",svgClassName:"w-25px h-25px"})}),(0,D.jsx)("div",{children:null!==(a=null===F||void 0===F?void 0:F.time)&&void 0!==a?a:"--"})]}),(0,D.jsxs)("div",{className:"mb-3 d-flex gap-5 align-items-center",children:[(0,D.jsx)("div",{children:(0,D.jsx)(T.D8,{path:"/media/icons/duotune/art/GreyNotification.svg",svgClassName:"w-25px h-25px"})}),(0,D.jsx)("div",{children:null!==(o=null===F||void 0===F?void 0:F.type)&&void 0!==o?o:"--"})]})]})}),(0,D.jsx)("div",{className:"bg-cmwhite p-10 shadow-sm",style:{borderRadius:"10px"},children:(0,D.jsx)(l.Z,{customButtons:(0,n.Zv)({permission:n.sr.standard.calendar.calendar,type:n.BX.add,forManager:!0})?{addEventButton:{text:"Add an Event",click:function(){C(!0),W(null)}},setupAvailability:{text:"Setup Availability",click:function(){S(!0)}},Inteviews:{text:"Interviews"},StartDates:{text:"StartDate"},Meetings:{text:"Meetings"},Trainings:{text:"Trainings"}}:null,plugins:[s,c.Z],headerToolbar:{left:"prev,next today dayGridMonth,timeGridWeek,timeGridDay",center:"title",right:"Inteviews StartDates Meetings Trainings"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:H,eventClick:e=>{var t,i,d,n,a,l,o,r,s,c,v,u,m,f,y,p;W({name:null===e||void 0===e||null===(t=e.event)||void 0===t||null===(i=t._def)||void 0===i?void 0:i.title,description:null===e||void 0===e||null===(d=e.event)||void 0===d||null===(n=d._def)||void 0===n||null===(a=n.extendedProps)||void 0===a?void 0:a.description,date:null===e||void 0===e||null===(l=e.event)||void 0===l||null===(o=l._instance)||void 0===o||null===(r=o.range)||void 0===r?void 0:r.start.toISOString(),type:null===e||void 0===e||null===(s=e.event)||void 0===s||null===(c=s._def)||void 0===c||null===(v=c.extendedProps)||void 0===v?void 0:v.type,id:null===e||void 0===e||null===(u=e.event)||void 0===u||null===(m=u._def)||void 0===m?void 0:m.publicId,time:null===e||void 0===e||null===(f=e.event)||void 0===f||null===(y=f._def)||void 0===y||null===(p=y.extendedProps)||void 0===p?void 0:p.time}),X(!0)},displayEventTime:!1,now:(0,f.Kj)(new Date,"YYYY-MM-DD"),slotEventOverlap:!1})}),w?(0,D.jsxs)(u.V,{visible:w,onHide:re,style:{width:"30vw"},header:Q?"Update Event":"Add an Event",children:[(0,D.jsx)("div",{className:"m-0 p-0",style:{borderBottom:"1px solid #EFF2F5"}}),(0,D.jsx)("form",{onSubmit:Q?oe:ae,children:(0,D.jsxs)("div",{className:"card shadow-none p-0 m-0",children:[(0,D.jsx)("div",{className:"d-flex justify-content-center mx-auto mt-4",children:(0,D.jsxs)("div",{className:"w-100",children:[(0,D.jsxs)("div",{className:"mt-6",style:{fontSize:"14px"},children:[(0,D.jsxs)("div",{className:"d-sm-flex justify-content-between gap-5 w-100 px-sm-0 px-1 mx-sm-0 mx-auto mb-5",children:[(0,D.jsx)("div",{className:"",children:(0,D.jsx)(y.Z,{errorMessage:R.eventDate,label:"Date",required:!0,value:z,onChange:e=>{var t;_(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},minDate:new Date})}),(0,D.jsx)("div",{className:"",children:(0,D.jsx)(p.ZP,{label:"Time",required:!0,placeholder:"hh:mm",type:"time",onChange:e=>{P(e.target.value)},errorMessage:R.eventTime,value:G})})]}),(0,D.jsx)("div",{className:"",children:(0,D.jsx)(x.Z,{label:"Type",required:!0,options:f.m7,searching:!1,value:A,onChange:e=>{I(e.target.value)},errorMessage:R.eventType})})]}),(0,D.jsx)("div",{className:"mt-8 mb-2",children:(0,D.jsx)(p.ZP,{label:"Event Name",required:!0,placeholder:"Enter Event Name",onChange:e=>{Y(e.target.value)},errorMessage:R.eventName,value:V,rejex:/^[\w\-\s]+$/})}),(0,D.jsx)("div",{className:"mt-8",children:(0,D.jsx)(p.ZP,{label:"Description",type:p.rC.textarea,placeholder:"Enter Description",onChange:e=>{q(e.target.value)},value:L})})]})}),(0,D.jsx)("div",{className:"d-flex justify-content-center mt-11 mb-9",children:(0,D.jsx)(M.ZP,{type:"submit",buttonType:M.JB.primary,buttonLabel:Q?"Update Event":"Add Event",onClick:Q?oe:ae})})]})})]}):null,N&&(0,D.jsx)(Z,{show:N,handleClose:()=>{S(!1)}})]})}var _=i(96023);const G=()=>{const[e,t,i]=(0,a.Z)(),[l,o]=(0,d.useState)(!1),[r,s]=(0,d.useState)(!1);return(0,D.jsx)(n.ZP,{customCondition:_.l.standard.calendar.calendar.view,showPlaceHolder:!0,children:(0,D.jsxs)("div",{style:{fontSize:"14px",fontFamily:"Manrope",marginTop:"-20px"},children:[(0,D.jsxs)("div",{className:"w-100 d-flex flex-wrap align-items-center justify-content-between mb-10",children:[(0,D.jsxs)("div",{className:" mb-2 mt- d-flex align-items-center flex-row ms-1 gap-2 ",id:"kt_chat_contacts_header",children:[(0,D.jsx)("div",{className:"text-cmGrey900",style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"17px"},children:"Office :"}),(0,D.jsx)("div",{children:(0,D.jsx)(x.Z,{onChange:e=>{var t;return i(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},value:t,options:e,showClear:!1})})]}),(0,D.jsxs)("div",{className:"d-flex gap-5",children:[(0,D.jsx)(M.ZP,{buttonType:M.JB.primary,buttonSize:M.iY.small,buttonLabel:"Setup Availability",onClick:()=>s(!0)}),(0,D.jsx)(M.ZP,{buttonType:M.JB.secondary,buttonLabel:"Add an Event",buttonSize:M.iY.small,onClick:()=>o(!0)})]})]}),(0,D.jsx)("div",{children:(0,D.jsx)(z,{selecetedLocation:t,show:l,setShow:o,timeSlotModal:r,setTimeSlotModal:s})})]})})}}}]);
//# sourceMappingURL=2701.8dc790ae.chunk.js.map