"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[6969],{60266:(e,l,t)=>{t.r(l),t.d(l,{default:()=>le});var s=t(16871),a=t(10534),i=t(81732),n=t(5483),o=t(72791),d=(t(97608),t(92026),t(95095)),r=t.n(d),c=t(39159),u=t(59434),m=t(72426),v=t.n(m),x=t(87311),h=t(96067);t(68639);var p=t(13524),f=t(88700),g=t.n(f),y=t(31879),j=t(30448),b=t(96540),w=t(80184);const N=e=>{let{className:l,chartData:t,selectedKWType:s,setSelectedKWType:a}=e;const i=(0,o.useRef)(null),{mode:n}=(0,j.rB)(),[d,r]=(0,o.useState)("#FFE16A"),c=()=>{if(!i.current)return;parseInt((0,y.i6)(i.current,"height"));const e=new(g())(i.current,function(e,l,t,s){var a=[],i=[],n=[],o=[],d=[];(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l||l.map((e=>{var l;a.push(null===e||void 0===e?void 0:e.m1_account),i.push(null===e||void 0===e?void 0:e.m2_account),o.push(null===e||void 0===e?void 0:e.claw_back),d.push(null===e||void 0===e?void 0:e.total_kw);const t=null===e||void 0===e||null===(l=e.date)||void 0===l?void 0:l.split(" ");(null===t||void 0===t?void 0:t.length)>1?n.push(t):n.push(null===t||void 0===t?void 0:t[0])})));const r="#9E9E9E",c=(0,y.mK)("--kt-gray-200"),u=((0,y.mK)("--kt-primary-light"),(0,y.mK)("--kt-info"),Math.max(...a,...o,...i)+20);return{series:[{name:"M1",type:"line",data:a},{name:"M2",type:"line",data:i},{name:"Clawback",type:"line",data:o},{name:"".concat("sold"===s?"KW Sold":"KW Installed"),type:"bar",data:d}],chart:{fontFamily:"inherit",stacked:!1,height:350,toolbar:{show:!0},zoom:{enabled:!0,type:"xy",autoScaleYaxis:!0}},plotOptions:{bar:{horizontal:!1,borderRadius:5,columnWidth:"12%"}},legend:{show:!0},dataLabels:{enabled:!1},stroke:{show:!0,width:2},xaxis:{categories:n,axisBorder:{show:!1},axisTicks:{show:!1},labels:{rotate:0,style:{colors:r,fontSize:"12px"}}},yaxis:[{seriesName:"M1",show:!0,title:{text:"Accounts",style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"12px",color:"#0D1821"}},max:u,min:0,labels:{formatter:function(e){return(0,x.Jj)(e.toFixed(0))},style:{colors:r,fontSize:"12px"}}},{seriesName:"M2",show:!1,title:{text:"Accounts",style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"12px",color:"#0D1821"}},max:u,min:0,labels:{style:{colors:r,fontSize:"12px",fontFamily:"Manrope",fontWeight:"500"}}},{seriesName:"Clawback",show:!1,max:u,min:0,title:{text:"Accounsts",style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"12px",color:"#0D1821"}},labels:{style:{colors:r,fontSize:"12px",fontFamily:"Manrope",fontWeight:"500"}}},{seriesName:"KW Sold",opposite:!0,show:!0,title:{text:"".concat("sold"===s?"KW Sold":"KW Installed"),style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"12px",color:"#0D1821"}},labels:{formatter:function(e){return(0,x.Jj)(e.toFixed(0))},style:{colors:r,fontSize:"12px",fontFamily:"Manrope",fontWeight:"500"}}}],fill:{opacity:1},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(e,l){let{series:t,seriesIndex:s,dataPointIndex:a,w:i}=l;return e}}},colors:["#6078EC","#00C247","#FE679D",t],grid:{borderColor:c,strokeDashArray:4,yaxis:{lines:{show:!0}},padding:{top:10,right:50,bottom:10,left:50}}}}(0,t,d,s));return e&&e.render(),e};return(0,o.useEffect)((()=>{null===t||void 0===t||t.map((e=>{}))}),[t]),(0,o.useEffect)((()=>{const e=c();return()=>{e&&e.destroy()}}),[t,i]),(0,w.jsxs)("div",{className:"bg-cmwhite ".concat(l," shadow-sm"),style:{fontFamily:"Manrope",borderRadius:"10px "},children:[(0,w.jsxs)("div",{className:"d-flex justify-content-between align-items-center pt-5 ps-5",children:[(0,w.jsx)("div",{className:"text-cmGrey900 ",style:{fontWeight:"700",fontSize:"16px"},children:"My Sales"}),(0,w.jsxs)("div",{className:"d-flex gap-10 align-items-center",children:[(0,w.jsxs)(b.Z,{childClass:"d-flex gap-2 align-items-center",value:"sold",name:"sold",handleChange:()=>{a("sold"),r("#FFE16A")},isChecked:"sold"==s,children:[(0,w.jsx)("div",{className:"rounded-pill px-3 badge text-cmYellow bg-cmYellow",children:"."}),(0,w.jsx)("div",{className:"text-cmGrey500",style:{fontWeight:"600",fontSize:"12px",fontFamily:"Manrope"},children:"KW Sold"})]}),(0,w.jsxs)(b.Z,{childClass:"d-flex gap-2 align-items-center",value:"install",name:"install",handleChange:()=>{a("install"),r("#FFB03A")},isChecked:"install"==s,children:[(0,w.jsx)("div",{className:"rounded-pill px-3 badge text-cmOrange bg-cmOrange",children:"."}),(0,w.jsx)("div",{className:"text-cmGrey500",style:{fontWeight:"600",fontSize:"12px",fontFamily:"Manrope"},children:"KW Installed"})]})]}),(0,w.jsx)("div",{})]}),(0,w.jsx)("div",{className:"card-body m-0",children:(0,w.jsx)("div",{ref:i,id:"kt_charts_widget_6_chart"})})]})};const A=e=>{let{className:l,description:t,icon:s,stats:a,labelColor:i,textColor:n,borderColor:o,background:d,heading:r,content:c}=e;return(0,w.jsxs)("div",{className:"card card-flush ".concat(l," border py-8 ps-5 shadow-sm"),style:{background:d},children:[(0,w.jsx)("div",{style:{color:"#212121",fontFamily:"Manrope",fontWeight:"700"},children:r}),(0,w.jsx)("div",{style:{color:"#424242",fontFamily:"Manrope",fontWeight:"600",fontStyle:"normal",fontSize:"14px"},children:c})]})};var C=t(10252),S=t(55886),_=t(98161),k=t(28555),F=t(32125),D=t(84271),M=t(38185),E=t(88895);let W=[{name:"Closed",isChecked:!1},{name:"M1",isChecked:!1},{name:"M2",isChecked:!1}];const z=e=>{var l,t,s,a;let{reportData:i,onSearchChange:n,loading:d,onPageChange:r,activePage:c,headerFilterChnage:u,getSaleData:m,onPress:v,sortValue:h,sortingOrder:f}=e;const[g,y]=(0,o.useState)(!1),[j,b]=(0,o.useState)(!1),[N,A]=(0,o.useState)(null),[z,R]=(0,o.useState)(""),[Y,B]=(0,o.useState)(!1),[I,K]=(0,o.useState)(null),[O,P]=(0,o.useState)(!1),[Z,G]=(0,o.useState)(null);(0,o.useEffect)((()=>{A(i)}));const V=e=>{var l,t;W=W.map((l=>{var t;return l.name===(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)?{...l,isChecked:!l.isChecked}:l})),u(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value,null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"card shadow",style:{fontFamily:"Manrope",borderRadius:"10px"},children:[(0,w.jsx)(S.Z,{full:!0,visible:d}),(0,w.jsxs)("div",{className:"card-body py-0 px-0 mx-0",children:[(0,w.jsx)("div",{className:"card bg-white",style:{fontSize:"14px",fontFamily:"Manrope"},children:(0,w.jsxs)("div",{className:"w-100 mt-4 ms-sm-7 mb-3 d-sm-flex flex-wrap justify-content-between align-items-center",children:[(0,w.jsx)("div",{style:{fontFamily:"Manrope",fontWeight:"700",fontSize:"17px"},className:"mx-sm-0 ps-sm-0 ps-5 text-cmGrey900",children:"Customer Info"}),(0,w.jsx)("div",{className:"d-flex gap-10 flex-wrap align-items-center",children:(0,w.jsx)("div",{style:{borderRadius:"20px"},className:"w-md-300px w-75 mx-sm-0 mx-auto mb-1",children:(0,w.jsx)("form",{className:"position-relative",style:{borderRadius:"90px"},autoComplete:"off",children:(0,w.jsx)(D.ZP,{type:D.rC.search,name:"search",onChange:e=>{R(e.target.value),n(e.target.value)},value:z})})})}),(0,w.jsx)("div",{className:"d-flex gap-10 flex-wrap align-items-center ",children:(0,w.jsx)("div",{style:{borderRadius:"20px"},className:"w-md-300px w-75 mx-sm-0 mx-auto mb-1",children:(0,w.jsx)("form",{className:"d-flex gap-6",style:{borderRadius:"90px"},autoComplete:"off",children:null===(l=W)||void 0===l?void 0:l.map(((e,l)=>(0,w.jsxs)("div",{className:" gap-2 d-flex align-items-center",children:[(0,w.jsx)(M.Z,{onChange:V,value:null===e||void 0===e?void 0:e.name,checked:!!e.isChecked}),(0,w.jsx)("label",{className:"form-check-label text-cmGrey700",children:e.name})]},null===e||void 0===e?void 0:e.name)))})})})]})}),(0,w.jsxs)("div",{className:"table-responsive shadow-none overflow-auto",children:[(0,w.jsxs)("table",{className:"table",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:" text-cmGrey800 bg-cmGrey300",style:{fontSize:"14px",fontWeight:"800",fontFamily:"Manrope"},children:[(0,w.jsx)("th",{className:"w-auto p-5",children:"PID"}),(0,w.jsx)("th",{className:"w-auto p-5",children:"Customer"}),(0,w.jsx)("th",{className:"w-auto p-5",children:"State"}),(0,w.jsx)("th",{className:"w-auto p-5",children:"Setter "}),(0,w.jsx)("th",{className:"w-auto p-5",children:"Closer"}),(0,w.jsx)("th",{className:"w-auto p-5 text-nowrap",children:(0,w.jsxs)("div",{className:"d-flex",children:["Net EPC",(0,w.jsx)(E.e,{sortingOrder:"net_epc"===h?f:null,onClick:()=>v("net_epc")})]})}),(0,w.jsx)("th",{className:"w-auto p-5",children:(0,w.jsxs)("div",{className:"d-flex",children:["KW",(0,w.jsx)(E.e,{sortingOrder:"kw"===h?f:null,onClick:()=>v("kw")})]})}),(0,w.jsx)("th",{className:"w-auto p-5",children:"Cancel"}),(0,w.jsx)("th",{className:"w-auto p-5",children:(0,w.jsxs)("div",{className:"d-flex",children:["M1",(0,w.jsx)(E.e,{sortingOrder:"m1"===h?f:null,onClick:()=>v("m1")})]})}),(0,w.jsx)("th",{className:"w-auto p-5",children:(0,w.jsxs)("div",{className:"d-flex",children:["M2",(0,w.jsx)(E.e,{sortingOrder:"m2"===h?f:null,onClick:()=>v("m2")})]})})]})}),(0,w.jsx)("tbody",{children:(null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.length)>0?(0,w.jsx)(w.Fragment,{children:null===(s=N.data)||void 0===s?void 0:s.map(((e,l)=>{var t,s,a,i,n,o,d,r;return(0,w.jsxs)("tr",{className:"text-cmGrey700 ".concat((l+1)%2===0?"bg-cmGrey100":""),style:{fontWeight:"500",fontSize:"14px",fontFamily:"Manrope"},children:[(0,w.jsx)("td",{className:"p-5 text-cmGrey800",children:null===e||void 0===e?void 0:e.pid}),(0,w.jsx)("td",{className:"p-5 text-decoration-underline engage-demos-toggle cursor-pointer",id:"kt_engage_demos_toggle2","data-bs-placement":"left","data-bs-dismiss":"click","data-bs-trigger":"hover",style:{fontWeight:"600"},onClick:()=>{B(!0),K({id:null===e||void 0===e?void 0:e.pid,name:null===e||void 0===e?void 0:e.customer_name})},children:null===e||void 0===e?void 0:e.customer_name}),(0,w.jsx)("td",{className:"p-5",children:null===e||void 0===e?void 0:e.state}),(0,w.jsxs)("td",{className:"p-5 cursor-pointer ",children:[(0,w.jsx)(k.Z,{employeeId:null===e||void 0===e?void 0:e.setter_id,children:null===e||void 0===e?void 0:e.setter}),!(null!==e&&void 0!==e&&e.setter)&&(0,w.jsx)("a",{className:"cursor-pointer text-decoration-underline text-cmBlue-Crayola",onClick:()=>{G(e),P(!0)},children:"Add Rep"})]}),(0,w.jsx)("td",{className:"p-5 cursor-pointer",children:(0,w.jsx)(k.Z,{employeeId:null===e||void 0===e?void 0:e.closer_id,children:null!==(t=null===e||void 0===e?void 0:e.closer)&&void 0!==t?t:"-"})}),(0,w.jsx)("td",{className:"p-5",children:(0,x.BM)(null===e||void 0===e?void 0:e.net_epc,"")}),(0,w.jsx)("td",{className:"p-5",children:(0,x.BM)(null===e||void 0===e?void 0:e.kw,"")}),(0,w.jsx)("td",{className:"p-5 text-cmError",children:null!==(s=null===e||void 0===e?void 0:e.date_cancelled)&&void 0!==s?s:"-"}),(0,w.jsxs)("td",{className:"p-5",children:[(0,w.jsx)("span",{className:Number(null!==(a=null===e||void 0===e?void 0:e.m1_amount)&&void 0!==a?a:0)<0?"bi bi-exclamation-triangle text-cmError me-2":""}),(0,w.jsx)("b",{children:null!==(i=(0,x.BM)(null===e||void 0===e?void 0:e.m1_amount))&&void 0!==i?i:"0"})," ","| ",null!==(n=(0,p.Kj)(null===e||void 0===e?void 0:e.m1_date))&&void 0!==n?n:"-"," "]}),(0,w.jsxs)("td",{className:"p-5",children:[(0,w.jsx)("span",{className:Number(null!==(o=null===e||void 0===e?void 0:e.m2_amount)&&void 0!==o?o:0)<0?"bi bi-exclamation-triangle text-cmError me-2":""}),(0,w.jsx)("b",{children:null!==(d=(0,x.BM)(null===e||void 0===e?void 0:e.m2_amount))&&void 0!==d?d:"0"})," ","| ",null!==(r=(0,p.Kj)(null===e||void 0===e?void 0:e.m2_date))&&void 0!==r?r:"-"]})]},null===e||void 0===e?void 0:e.pid)}))}):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:15,style:{textAlign:"center",fontFamily:"Manrope",fontWeight:"500",fontSize:14,paddingTop:20,paddingBottom:20},children:"No data found"})})})]}),(null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.length)>0?(0,w.jsx)(C.Z,{page:c&&c,totalPages:null===N||void 0===N?void 0:N.last_page,setPage:e=>r(e)}):null]})]})]}),(0,w.jsx)(_.Z,{open:Y,onClose:()=>B(!1),id:I}),(0,w.jsx)(F.G,{show:O,handleClose:()=>P(!1),csObj:Z,getSaleData:m})]})},R=e=>{let{salesData:l}=e;const t=(0,o.useRef)(null),{mode:s}=(0,j.rB)(),a=()=>{if(!t.current)return;parseInt((0,y.i6)(t.current,"height"));const e=new(g())(t.current,function(e,l){var t=[],s=[],a=[];(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l||l.map((e=>{var l;t.push(null===e||void 0===e?void 0:e.m1_amount),s.push(null===e||void 0===e?void 0:e.m2_amount);const i=null===e||void 0===e||null===(l=e.date)||void 0===l?void 0:l.split(" ");(null===i||void 0===i?void 0:i.length)>1?a.push(i):a.push(null===i||void 0===i?void 0:i[0])})));const i=(0,y.mK)("--kt-gray-500"),n=(0,y.mK)("--kt-gray-200"),o=((0,y.mK)("--kt-primary"),(0,y.mK)("--kt-primary-light"));(0,y.mK)("--kt-info");return{series:[{name:"M1",type:"bar",data:t&&t},{name:"M2",type:"bar",data:s&&s}],chart:{fontFamily:"inherit",stacked:!0,height:300,toolbar:{show:!0},zoom:{enabled:!0,type:"xy",autoScaleYaxis:!0}},plotOptions:{bar:{horizontal:!1,borderRadius:4,columnWidth:"30%"}},legend:{show:!0},dataLabels:{enabled:!1},stroke:{curve:"smooth",show:!0,width:2,colors:["transparent"]},xaxis:{categories:a&&a,axisBorder:{show:!1},axisTicks:{show:!1},labels:{rotate:0,style:{colors:i,fontSize:"12px"}}},yaxis:{title:{text:"Earnings in ($)",style:{fontSize:"10px",fontFamily:"Manrope",fontWeight:"700",color:"#0D1821"}},labels:{style:{colors:i,fontSize:"12px"},formatter:function(e){return(0,x.Jj)(e,"$")}}},fill:{opacity:1},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(e){return(0,x.Jj)(e,"$")}}},colors:["#5DB887","#6078EC",o],grid:{borderColor:n,strokeDashArray:4,yaxis:{lines:{show:!0}},padding:{top:0,right:10,bottom:0,left:10}}}}(0,l));return e&&e.render(),e};return(0,o.useEffect)((()=>{}),[l]),(0,o.useEffect)((()=>{const e=a();return()=>{e&&e.destroy()}}),[l,t]),(0,w.jsxs)("div",{className:"bg-cmwhite shadow-sm",style:{borderRadius:"10px"},children:[(0,w.jsx)("div",{className:" border-0 pt-5 fw-bold fs-3 ps-5",children:"Revenue"}),(0,w.jsx)("div",{ref:t,className:"w-100 px-3"})]})};var Y=t(43623),B=t(26152),I=t(32092);B.kL.register(B.qi);const K=e=>{var l,t,s,a,i;let{ratioData:n}=e;const o={datasets:[{data:[null===n||void 0===n||null===(l=n.uninstall)||void 0===l?void 0:l.replace("%",""),null===n||void 0===n||null===(t=n.install)||void 0===t?void 0:t.replace("%","")],backgroundColor:["rgba(96, 120, 236, 0.2)","#6078EC"],display:!0}]};return(0,w.jsxs)("div",{className:"bg-white py-3 shadow-sm px-10 w-100 mb-5 ",style:{fontFamily:"Manrope",borderRadius:"10px"},children:[(0,w.jsx)("div",{className:" text-center mb-5 text-cmGrey800",style:{fontSize:"14px",fontWeight:"600",fontFamily:"Manrope"},children:"Install Ratio"}),Number(null===n||void 0===n||null===(s=n.uninstall)||void 0===s?void 0:s.replace("%",""))>0&&Number(null===n||void 0===n||null===(a=n.install)||void 0===a?void 0:a.replace("%",""))>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"w-120px h-120px mx-auto",children:(0,w.jsx)(Y.$I,{data:o,options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},rotation:90,circumference:360,cutout:"80%"}})}),(0,w.jsx)("div",{style:{position:"relative",top:"-1%",left:"50%",transform:"translate(-50%, -300%)",textAlign:"center"},children:(0,w.jsxs)("div",{style:{color:"#0D1821",fontSize:"16px",fontWeight:"bold"},children:[(0,x.BM)(null===n||void 0===n||null===(i=n.install)||void 0===i?void 0:i.replace("%",""),""),"%"]})}),(0,w.jsxs)("div",{className:"d-flex flex-column mx-auto gap-2 text-center my-0 fw-normal",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mx-auto",style:{color:"#757575",fontSize:"12px",marginTop:"-15px"},children:[(0,w.jsx)("span",{className:"bullet rounded-circle-2 me-1 py-2 px-2",style:{backgroundColor:"#6078EC"}}),"Installed Accounts"]}),(0,w.jsxs)("div",{className:"d-flex align-items-center mx-auto",style:{color:"#757575",fontSize:"12px"},children:[(0,w.jsx)("span",{className:"bullet rounded-circle-2 me-1 py-2 px-2",style:{backgroundColor:"#DFE4FB"}}),"Uninstalled Accounts"]})]})]}):(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"m-0 p-0 mb-5",children:(0,w.jsx)("i",{className:"bi bi-circle text-cmGrey400",style:{fontSize:"120px"}})}),(0,w.jsx)("div",{className:"",children:(0,w.jsx)(I.Z,{label:"No data found"})})]})]})};B.kL.register(B.qi);const O=e=>{let{accountData:l}=e;const t={datasets:[{data:[null===l||void 0===l?void 0:l.m2_complete,null===l||void 0===l?void 0:l.m2_pending,null===l||void 0===l?void 0:l.cancelled,null===l||void 0===l?void 0:l.clawback],backgroundColor:["#6078EC","#50CD89","#90CAF4","#FFE16A"],display:!0,borderColor:["#6078EC","#50CD89","#90CAF4","#FFE16A"]}]};return(0,w.jsxs)("div",{className:"bg-white py-3 shadow-sm mb-5 w-100",style:{borderRadius:"10px"},children:[(0,w.jsx)("div",{className:"mb-5 ms-3",style:{fontSize:"14px",fontWeight:"500",color:"#757575"},children:"Accounts"}),(0,w.jsx)("div",{className:" mx-auto mb-0 px-10 w-200px ",style:{marginTop:"-35px"},children:(0,w.jsx)(Y.$I,{data:t,options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},rotation:-90,circumference:180,cutout:"80%",maintainAspectRatio:!0,responsive:!0}})}),(0,w.jsxs)("div",{style:{position:"relative",top:"-20%",left:"50%",transform:"translate(-50%, -150%)",textAlign:"center"},children:[(0,w.jsx)("div",{style:{color:"#9E9E9E",fontSize:"10px",fontFamily:"Manrope",fontWeight:"500"},children:"Total Sales"}),(0,w.jsx)("div",{style:{color:"#0D1821",fontSize:"18px",fontWeight:"700"},children:(0,x.Jj)(null===l||void 0===l?void 0:l.total_sales)})]}),(0,w.jsxs)("div",{style:{marginTop:"-55px"},className:"",children:[(0,w.jsx)("hr",{}),(0,w.jsxs)("div",{className:"   ",children:[(0,w.jsxs)("div",{className:"d-flex justify-content-between gap-5 pb-2 px-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center w-sm-50",children:[(0,w.jsx)("div",{className:"bullet rounded-circle-2 py-2 px-2",style:{backgroundColor:"#6078EC"}}),(0,w.jsx)("div",{style:{color:"#757575",fontWeight:"500"},className:"mx-1",children:"M2 complete"}),(0,w.jsx)("div",{style:{color:"#0D1821",fontWeight:"700"},children:null===l||void 0===l?void 0:l.m2_complete})]}),(0,w.jsxs)("div",{className:"d-flex align-items-center w-sm-50",children:[(0,w.jsx)("div",{className:"bullet rounded-circle-2 py-2 px-2",style:{backgroundColor:"#50CD89"}}),(0,w.jsx)("div",{style:{color:"#757575",fontWeight:"500"},className:"mx-1",children:"M2 pending"}),(0,w.jsx)("div",{style:{color:"#0D1821",fontWeight:"700"},children:null===l||void 0===l?void 0:l.m2_pending})]})]}),(0,w.jsxs)("div",{className:"d-flex justify-content-between gap-5 pt-2 px-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center w-sm-50",children:[(0,w.jsx)("div",{className:"bullet rounded-circle-2 py-2 px-2",style:{backgroundColor:"#90CAF4"}}),(0,w.jsx)("div",{style:{color:"#757575",fontWeight:"500"},className:"mx-1",children:"Cancelled"}),(0,w.jsx)("div",{style:{color:"#0D1821",fontWeight:"700"},children:null===l||void 0===l?void 0:l.cancelled})]}),(0,w.jsxs)("div",{className:"d-flex align-items-center w-sm-50",children:[(0,w.jsx)("div",{className:"bullet rounded-circle-2 py-2 px-2",style:{backgroundColor:"#FE679D"}}),(0,w.jsx)("div",{style:{color:"#757575",fontWeight:"500"},className:"mx-1",children:"Clawback"}),(0,w.jsx)("div",{style:{color:"#0D1821",fontWeight:"700"},children:null===l||void 0===l?void 0:l.clawback})]})]})]})]})]})};var P=t(59153),Z=t(38202),G=t(60070);function V(){var e,l,t,a,i,n,d,u,m,f,g;const[y,j]=(0,o.useState)(null),[b,C]=(0,o.useState)(null),[_,k]=(0,o.useState)(null),[F,D]=(0,o.useState)("this_year"),[M,E]=(0,o.useState)(null),[W,Y]=(0,o.useState)(null),[B,I]=(0,o.useState)(!0),[V,T]=(0,o.useState)(!1),[U,H]=(0,o.useState)("sold"),[J,X]=(0,o.useState)(""),[L,Q]=(0,o.useState)(1),[q,$]=(0,o.useState)({m1:"",m2:"",closed:""}),[ee,le]=(0,o.useState)(null),[te,se]=(0,o.useState)(null),ae=(0,s.TH)();(0,o.useEffect)((()=>{var e;null!==ae&&void 0!==ae&&null!==(e=ae.search)&&void 0!==e&&e.includes("?recentSale")&&D("this_week")}),[ae]),(0,o.useEffect)((()=>{let e={filter:F,kw_type:U};"custom"==F&&v()(M).isValid()&&v()(W).isValid()&&(e.start_date=v()(M).format("YYYY-MM-DD"),e.end_date=v()(W).format("YYYY-MM-DD")),("custom"!=F||"custom"==F&&v()(M).isValid()&&v()(W).isValid()&&M<=W)&&(I(!0),ie(),(0,c.EDL)(e).then((e=>{C(e.data)})).finally((()=>{})),(0,c.W6g)(e).then((e=>{k(e.data)})))}),[F,U,W,M]);const ie=()=>{T(!0);let e={search:J,filter:F,m1:(0,x.kC)(null===q||void 0===q?void 0:q.m1),m2:(0,x.kC)(null===q||void 0===q?void 0:q.m2),closed:(0,x.kC)(null===q||void 0===q?void 0:q.closed),page:L,sort:ee,sort_val:te};"custom"==F&&v()(M).isValid()&&v()(W).isValid()&&(e.start_date=v()(M).format("YYYY-MM-DD"),e.end_date=v()(W).format("YYYY-MM-DD")),(0,c.zqQ)(e).then((e=>{j(null===e||void 0===e?void 0:e.data)})).catch((e=>{h.Z.error((0,x.oN)(e))})).finally((()=>{I(!1),T(!1)}))};(0,o.useEffect)((()=>{ie()}),[J,L,ee,te,q]);const ne=(0,o.useCallback)(r()((e=>{T(!0),X(e),Q(1)}),500),[]);return(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)(S.Z,{full:!0,visible:B}),(0,w.jsx)("div",{className:"bg-cmwhite mb-10",style:{fontSize:"14px",fontFamily:G.t.manrope,position:"relative",borderRadius:"0px 10px 10px 10px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},children:(0,w.jsx)("div",{className:"w-100 mx-sm-7 d-sm-flex flex-wrap justify-content-between align-items-center",children:(0,w.jsxs)("div",{className:"d-flex flex-row justify-content-center flex-wrap align-items-center py-5 gap-10",children:[(0,w.jsx)("div",{className:"",children:(0,w.jsx)(P.Z,{name:"status",showClear:!1,onChange:e=>{Q(1),I("custom"!=e.target.value),"custom"!=e.target.value&&(M&&E(null),W&&Y(null)),D(e.target.value)},options:p.an,value:F})}),"custom"==F&&(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row gap-sm-5 gap-2  flex-wrap",children:[(0,w.jsx)("div",{className:"d-flex justify-content-center w-sm-auto w-100",children:(0,w.jsx)(Z.Z,{name:"startDate",onChange:e=>(e=>{v()(e).format("yyyy-MM-DD")>v()(W).format("yyyy-MM-DD")&&Y(null),E(e)})(e.target.value),value:M,className:"w-sm-auto w-100",placeholder:"Start Date",maxDate:new Date})}),(0,w.jsx)("div",{className:"text-cmGrey600",style:{fontWeight:"600"},children:"to"}),(0,w.jsx)("div",{className:" d-flex justify-content-center w-sm-auto w-100",children:(0,w.jsx)(Z.Z,{name:"startDate",onChange:e=>(e=>{Y(e)})(e.target.value),value:W,placeholder:"End Date",maxDate:new Date,minDate:M})})]})]})})}),(0,w.jsxs)("div",{className:"row mx-auto  gap-8 mb-10 ",children:[(0,w.jsx)(A,{heading:null!==(e=null===_||void 0===_||null===(l=_.heading_count_kw)||void 0===l?void 0:l.largest_system_size)&&void 0!==e?e:"0KW",content:"Largest System Size",className:"col-sm ",background:"#FFF4DE"}),(0,w.jsx)(A,{heading:null!==(t=null===_||void 0===_||null===(a=_.heading_count_kw)||void 0===a?void 0:a.avg_system_size)&&void 0!==t?t:"0KW",className:"col-sm ",background:"#E1D3FF",content:"Average System Size"}),(0,w.jsx)(A,{heading:null!==(i=null===_||void 0===_||null===(n=_.heading_count_kw)||void 0===n?void 0:n.install_kw)&&void 0!==i?i:"0KW",content:"KW Installed (Accounts)",className:"col-sm ",background:"#D7F9EF"}),(0,w.jsx)(A,{heading:null!==(d=null===_||void 0===_||null===(u=_.heading_count_kw)||void 0===u?void 0:u.pending_kw)&&void 0!==d?d:"0KW",content:"KW Pending (Accounts)",className:"col-sm ",background:"#E1E9FF"}),(0,w.jsx)(A,{heading:null!==(m="$"+(null===_||void 0===_||null===(f=_.heading_count_kw)||void 0===f?void 0:f.clawBack_account))&&void 0!==m?m:"0",content:"Clawback (Accounts)",className:"col-sm ",background:"#FDDCEA"})]}),(0,w.jsx)("div",{className:"mb-10",children:(0,w.jsx)(N,{selectedKWType:U,setSelectedKWType:H,chartData:null===_||void 0===_?void 0:_.my_sales})}),(0,w.jsx)("div",{className:"mb-10",children:(0,w.jsx)(R,{salesData:null===b||void 0===b||null===(g=b.graph_m1_m2_amount)||void 0===g?void 0:g.graph_amount})}),(0,w.jsxs)("div",{className:"row gap-5 mx-auto mb-10 w-100",children:[(0,w.jsx)("div",{className:"col-sm",children:(0,w.jsx)(O,{accountData:null===b||void 0===b?void 0:b.accounts})}),(0,w.jsx)("div",{className:"col-sm",children:(0,w.jsx)(K,{ratioData:null===b||void 0===b?void 0:b.install_ratio})})]}),(0,w.jsx)("div",{className:"mx-sm-auto mb-10 ",children:(0,w.jsx)(z,{reportData:y,onSearchChange:e=>{ne(e)},loading:V,headerFilterChnage:(e,l)=>((e,l)=>{Q(1),$((t=>({...t,[e]:l})))})(e.toLowerCase(),l),onPageChange:e=>(e=>{Q(e)})(e),activePage:L,getSaleData:ie,sortingOrder:te,sortValue:ee,onPress:e=>{le(e),se(ee!==e?"asc":"asc"===te?"desc":"asc"),Q(1)}})})]})}const T=e=>{let{className:l,description:t,icon:s,stats:a,labelColor:i,textColor:n,borderColor:o,background:d,heading:r,content:c}=e;return(0,w.jsxs)("div",{className:"".concat(l," border py-5 ps-5 shadow-sm border border-0"),style:{backgroundColor:d,borderRadius:"10px"},children:[(0,w.jsx)("div",{className:"text-cmGrey900",style:{fontSize:"28px",fontFamily:"Manrope",fontWeight:"700"},children:r}),(0,w.jsx)("div",{style:{fontFamily:"Manrope",fontWeight:"600",fontSize:"14px"},className:"text-cmGrey800",children:c})]})};var U=t(60564),H=t(68405),J=t(67521);const X=()=>{var e,l,t,s,a,i,n,d,r,m,v,x,h,p,f,g,y,j,b,N;const[A,C]=(0,o.useState)(null),[_,k]=(0,o.useState)(!0),F=(0,u.v9)(J.pU),D=(0,u.v9)(H.yV),M=(0,u.v9)(J.qL),[E,W]=(0,o.useState)("all");(0,o.useEffect)((()=>{(0,c.nTY)(D.id).then((e=>{C(null===e||void 0===e?void 0:e.data)})).catch((()=>{})).finally((()=>{k(!1)}))}),[null===D||void 0===D?void 0:D.id]);const z=(0,o.useMemo)((()=>{let e=[{name:"All",value:"all"},{name:"Direct",value:"direct"},{name:"Indirect",value:"indirect"}];return null!==M&&void 0!==M&&M.office_overrides_status&&e.push({name:"Office",value:"office"}),null!==F&&void 0!==F&&F.allow_manual_override_status&&e.push({name:"Manual",value:"manual"}),e}),[null===F||void 0===F?void 0:F.allow_manual_override_status,null===M||void 0===M?void 0:M.office_overrides_status]),R=(0,o.useMemo)((()=>{var e,l,t,s;return{direct:("direct"==E||"all"==E)&&(null===A||void 0===A||null===(e=A.direct)||void 0===e?void 0:e.length)>0&&!(null===M||void 0===M||!M.direct_overrides_status),indirect:("indirect"==E||"all"==E)&&(null===A||void 0===A||null===(l=A.indirect)||void 0===l?void 0:l.length)>0&&!(null===M||void 0===M||!M.indirect_overrides_status),office:("office"==E||"all"==E)&&(null===A||void 0===A||null===(t=A.office)||void 0===t?void 0:t.length)>0&&!(null===M||void 0===M||!M.office_overrides_status),manual:!("manual"!=E&&"all"!=E||!((null===A||void 0===A||null===(s=A.manual)||void 0===s?void 0:s.length)>0)||null===F||void 0===F||!F.allow_manual_override_status)}}),[null===F||void 0===F?void 0:F.allow_manual_override_status,E,null===A||void 0===A||null===(e=A.direct)||void 0===e?void 0:e.length,null===A||void 0===A||null===(l=A.indirect)||void 0===l?void 0:l.length,null===A||void 0===A||null===(t=A.manual)||void 0===t?void 0:t.length,null===A||void 0===A||null===(s=A.office)||void 0===s?void 0:s.length,null===M||void 0===M?void 0:M.direct_overrides_status,null===M||void 0===M?void 0:M.indirect_overrides_status,null===M||void 0===M?void 0:M.office_overrides_status]);return(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)(S.Z,{full:!0,visible:_}),(0,w.jsx)("div",{className:"bg-cmwhite",style:{fontSize:"14px",fontFamily:"Manrope",borderRadius:"0 10px 10px 10px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"},children:(0,w.jsx)("div",{className:"mx-sm-7 py-5 mb-3 d-sm-flex flex-wrap justify-content-end w-100 align-items-center text-center",children:(0,w.jsx)("div",{className:"me-sm-20 mt-sm-0 mt-5 ",children:(0,w.jsx)(P.Z,{searching:!1,onChange:e=>{W(e.target.value)},showClear:!1,options:z,value:E})})})}),(0,w.jsxs)("div",{className:" mx-auto",children:[(0,w.jsxs)("div",{className:"row m-4 mx-auto my-15 gap-10 ",children:[null!==M&&void 0!==M&&M.direct_overrides_status?(0,w.jsx)(T,{className:"col-sm  mb-xl-5",heading:null!==(a=null===A||void 0===A||null===(i=A.direct)||void 0===i||null===(n=i.filter((e=>!e.status)))||void 0===n?void 0:n.length)&&void 0!==a?a:"0",content:"Direct Overrides",background:"#FFF4DE"}):(0,w.jsx)(w.Fragment,{}),null!==M&&void 0!==M&&M.indirect_overrides_status?(0,w.jsx)(T,{className:"col-sm  mb-xl-5",heading:null!==(d=null===A||void 0===A||null===(r=A.indirect)||void 0===r||null===(m=r.filter((e=>!e.status)))||void 0===m?void 0:m.length)&&void 0!==d?d:"0",content:"Indirect Overrides",background:"#E1E9FF"}):(0,w.jsx)(w.Fragment,{}),null!==M&&void 0!==M&&M.office_overrides_status?(0,w.jsx)(T,{className:"col-sm  mb-xl-5",heading:null!==(v=null===A||void 0===A||null===(x=A.office)||void 0===x||null===(h=x.filter((e=>!e.status)))||void 0===h?void 0:h.length)&&void 0!==v?v:"0",content:"Office Overrides",background:"#D7F9EF"}):(0,w.jsx)(w.Fragment,{}),null!==F&&void 0!==F&&F.allow_manual_override_status?(0,w.jsx)(T,{className:"col-sm  mb-xl-5",heading:null!==(p=null===A||void 0===A||null===(f=A.manual)||void 0===f||null===(g=f.filter((e=>!e.status)))||void 0===g?void 0:g.length)&&void 0!==p?p:"0",content:"Manual Overrides",background:"#E1E9FF"}):null]}),(0,w.jsxs)("div",{className:"d-flex gap-15 justify-content-center flex-wrap",children:[R.direct?null===A||void 0===A||null===(y=A.direct)||void 0===y?void 0:y.map((e=>null!==e&&void 0!==e&&e.status?null:(0,w.jsx)(U.Z,{data:e,Type:"Direct",button:"Disable"},null===e||void 0===e?void 0:e.id))):"direct"==E?(0,w.jsx)("div",{className:"d-flex justify-content-center align-item-center py-20 my-20 text-gray-900",children:(0,w.jsx)("span",{style:{fontWeight:"600",fontSize:"20PX"},children:"No Overrides"})}):null,R.indirect?null===A||void 0===A||null===(j=A.indirect)||void 0===j?void 0:j.map((e=>null!==e&&void 0!==e&&e.status?null:(0,w.jsx)(U.Z,{data:e,Type:"Indirect",button:"Disable"},null===e||void 0===e?void 0:e.id))):"indirect"==E?(0,w.jsx)("div",{className:"d-flex justify-content-center align-item-center py-20 my-20 text-gray-900",children:(0,w.jsx)("span",{style:{fontWeight:"600",fontSize:"20PX"},children:"No Overrides"})}):null,R.office?null===A||void 0===A||null===(b=A.office)||void 0===b?void 0:b.map((e=>null!==e&&void 0!==e&&e.status?null:(0,w.jsx)(U.Z,{data:e,Type:"Office",button:"Disable"},null===e||void 0===e?void 0:e.id))):"office"==E?(0,w.jsx)("div",{className:"d-flex justify-content-center align-item-center py-20 my-20 text-gray-900",children:(0,w.jsx)("span",{style:{fontWeight:"600",fontSize:"20PX"},children:"No Overrides"})}):null,null!==R&&void 0!==R&&R.manual?null===A||void 0===A||null===(N=A.manual)||void 0===N?void 0:N.map((e=>null!==e&&void 0!==e&&e.status?null:(0,w.jsx)(U.Z,{data:e,Type:"Manual",button:"Disable"},null===e||void 0===e?void 0:e.id))):"manual"==E?(0,w.jsx)("div",{className:"d-flex justify-content-center align-item-center py-20 my-20 text-gray-900",children:(0,w.jsx)("span",{style:{fontWeight:"600",fontSize:"20PX"},children:"No Overrides"})}):null]})]})]})};var L=t(43504),Q=t(96023);const q=()=>{const e=(0,s.TH)(),l=(0,u.v9)(J.wP);return(0,w.jsxs)("div",{style:{fontSize:"16px",fontWeight:"800",fontFamily:G.t.manrope},className:"d-flex flex-nowrap gap-7 text-cmGrey500",children:[(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.mysales.view,children:(0,w.jsx)(L.rU,{className:"py-2 px-3 bg-cmwhite shadow-sm ".concat("/mysales/sales"==e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"),style:{borderRadius:"10px 10px 0px 0px"},to:"/mysales/sales",children:"My Sales"})}),null!==l&&void 0!==l&&l.overrides?(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.myOverrides.view,children:(0,w.jsx)(L.rU,{className:" py-2 px-3 bg-cmwhite shadow-sm\n                            ".concat("/mysales/my-overrides"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"),to:"/mysales/my-overrides",style:{borderRadius:"10px 10px 0px 0px"},children:"My Overrides"})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.payStubs.view,children:(0,w.jsx)(L.rU,{className:" py-2 px-3 bg-cmwhite shadow-sm\n                        ".concat("/mysales/pay-stubs"===e.pathname?"text-cmBlue-Crayola":"text-cmGrey500"),to:"/mysales/pay-stubs",style:{borderRadius:"10px 10px 0px 0px"},children:"Pay Stubs"})})]})};var $=t(69501);const ee=[{title:"Dashboard /",path:"/",isSeparator:!1,isActive:!1}],le=()=>(0,w.jsx)("div",{style:{marginTop:-20},className:"px-sm-10",children:(0,w.jsx)(s.Z5,{children:(0,w.jsxs)(s.AW,{element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(q,{}),(0,w.jsx)(s.j3,{})]}),children:[(0,w.jsx)(s.AW,{path:"sales",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.V1,{breadcrumbs:ee,children:"My Sales"}),(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.mysales.view,showPlaceHolder:!0,children:(0,w.jsx)(V,{})})]})}),(0,w.jsx)(s.AW,{path:"my-overrides",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.V1,{breadcrumbs:ee,children:"My Overrides"}),(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.myOverrides.view,showPlaceHolder:!0,children:(0,w.jsx)(X,{})})]})}),(0,w.jsx)(s.AW,{path:"pay-stubs",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.V1,{breadcrumbs:ee,children:"Pay Stubs"}),(0,w.jsx)(a.ZP,{customCondition:Q.l.standard.mySales.payStubs.view,showPlaceHolder:!0,children:(0,w.jsx)($.Z,{current:!0})})]})}),(0,w.jsx)(s.AW,{path:"sales/mycustomer-Info",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.V1,{breadcrumbs:ee,children:"My Sales"}),(0,w.jsx)(n.Z,{})]})}),(0,w.jsx)(s.AW,{index:!0,element:(0,w.jsx)(s.Fg,{to:"/mysales"})})]})})})},92026:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACESURBVHgBhc8BDYAgEAVQjiRGsIJJxBHACtrACNjABlYwAknA+4w5xjhkY7vdeNw/Uo1jjBmI6EYdY5ycc75+Qx005JZvYV2hsUAPEGr08GETlognXJiCK+EU1Vo7hxBc3unkWEaI/sUmRiujI6Odm5vq752w/kM4mFDH1txYcCUkYPUCXxVs0HiLtxMAAAAASUVORK5CYII="},97608:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACKSURBVHgBjdDBDYAgDAVQqgs4giMQJtANHEFZxFF0BK+e1AlgBF0E/E04GG3UnxDa0JcA1CIKGRH1EYyWRLRwnaEYeFlr+5+o5D7XWqOnCnVljFHOue0D7THGOvfer8AHDpqEC+D5DeFVO10GdBoosE8hhC7VD8Tz9HIlz1BCDyh9goREeMNKQpwTO8ZRM1MEV4IAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=6969.643cc3ab.chunk.js.map