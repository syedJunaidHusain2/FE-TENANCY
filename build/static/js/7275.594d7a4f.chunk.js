"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[7275],{87275:(e,s,l)=>{l.r(s),l.d(s,{default:()=>w});var a=l(72791),i=l(16871),t=l(81732),n=l(80184);const o=()=>(0,n.jsx)("div",{children:"SystemGeneral"});var r=l(60070),d=l(76033);const c=()=>{const e=(0,i.s0)(),{pathname:s}=(0,i.TH)();return(0,n.jsxs)("div",{className:"bg-cmwhite shadow-sm h-100 px-2 py-5 text-cmGrey600",style:{borderRadius:10,fontFamily:r.t.manrope,fontSize:"14px",fontWeight:600},children:[(0,n.jsx)("div",{className:"text-cmGrey600 ps-4 mb-5",style:{fontSize:"16px"},children:"SYSTEM"}),(0,n.jsxs)("div",{className:"d-flex flex-xxl-column gap-2 flex-wrap",style:{fontSize:16,fontWeight:600},children:[(0,n.jsxs)("div",{className:"".concat(s.includes("general")?"bg-cmBlue-Crayola":"","  bg-opacity-10 px-3 py-3 d-flex gap-3 align-items-center cursor-pointer text-cmGrey700 w-100"),style:{borderRadius:10},onClick:()=>e("general"),children:[(0,n.jsx)(d.D8,{path:"/media/icons/duotune/art/setting-general.svg",className:"cursor-pointer",svgClassName:"w-20px h-20px"}),(0,n.jsx)("div",{children:"General"})]}),(0,n.jsxs)("div",{className:"".concat(s.includes("emails")?"bg-cmBlue-Crayola":"","  bg-opacity-10 py-3 px-3 d-flex gap-3 align-items-center cursor-pointer text-cmGrey700 w-100"),style:{borderRadius:10},onClick:()=>e("emails"),children:[(0,n.jsx)(d.D8,{path:"/media/icons/duotune/art/sms-tracking.svg",className:"cursor-pointer",svgClassName:"w-20px h-20px"}),(0,n.jsx)("div",{children:"Emails"})]}),(0,n.jsxs)("div",{className:"".concat(s.includes("notification")?"bg-cmBlue-Crayola":"","  bg-opacity-10 py-3 px-3 d-flex gap-3 align-items-center cursor-pointer text-cmGrey700 w-100"),style:{borderRadius:10},onClick:()=>e("notification"),children:[(0,n.jsx)(d.D8,{path:"/media/icons/duotune/art/notification.svg",className:"cursor-pointer",svgClassName:"w-20px h-20px"}),(0,n.jsx)("div",{children:"Notification"})]})]})]})};var m=l(84271),u=l(59153),v=(l(38185),l(14565)),x=l(39159),h=l(13524),p=l(96067),g=l(87311),j=l(55886),b=l(89394),y=l(58728),f=l(45629);const _=e=>{let{show:s,handleClose:l}=e;const[i,t]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),h=(0,a.useCallback)((()=>{if(!i)return u("Enter Email Address");if(!j(i))return u("Enter Valid Email Address");d(!0);const e={email:i};(0,x.ugH)(e).then((()=>{l(),p.Z.success("Email Sent Successfully")})).catch((e=>{p.Z.error((0,g.oN)(e))})).finally((()=>d(!1)))}),[i,l]),j=e=>/\S+@\S+\.\S+/.test(e);return(0,n.jsx)(f.Z,{show:s,onHide:l,maxWidth:"800",title:"Send Test Email",children:(0,n.jsxs)("div",{className:"w-sm-75 mx-auto",style:{fontFamily:r.t.manrope},children:[(0,n.jsx)("div",{className:"mb-15",children:(0,n.jsx)("div",{children:(0,n.jsx)(m.ZP,{label:"Add email address to send test email",type:m.rC.email,value:i,onChange:e=>{u(null),t(e.target.value)},errorMessage:c})})}),(0,n.jsxs)("div",{className:"d-flex flex-center gap-sm-10 gap-5",children:[(0,n.jsx)(v.ZP,{buttonLabel:"Cancel",buttonType:v.JB.primaryBorder,buttonSize:v.iY.large,padding:"px-sm-15",onClick:l}),(0,n.jsx)(v.ZP,{buttonLabel:"Send Test",buttonSize:v.iY.large,padding:"px-sm-15",onClick:h,loading:o})]})]})})},S={email_from_address:null,service_provider:null,protocal:null,host_name:null,smtp_port:null,timeout:null,security_protocol:null,authentication_method:null,token_app_id:null,token_app_key:null,mail_user_name:null,mail_password:null},N=()=>{const[e,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[t,o]=(0,a.useState)(S),[d,c]=(0,b.Z)(),[f,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{C()}),[]),(0,a.useEffect)((()=>{null!==d&&void 0!==d&&d.beginValidating&&d((0,y.pA)(t))}),[t,d]);const C=(0,a.useCallback)((()=>{i(!0),(0,x.eLO)().then((e=>{o({...t,...e.data})})).finally((()=>{i(!1)}))}),[]),k=e=>{o((s=>{var l,a;return{...s,[null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.name]:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value}}))},w=(0,a.useCallback)((()=>{const e={...t};d((0,y.pA)(e)).then((l=>{l.isValidate&&(s(!0),(0,x.fzC)(e).then((()=>{C(),p.Z.success("Email Configured")})).catch((e=>{p.Z.error((0,g.oN)(e))})).finally((()=>s(!1))))}))}),[t,C,d]),P=()=>{N(!f)};return(0,n.jsxs)("div",{className:"",style:{fontSize:14,fontWeight:600,fontFamily:r.t.manrop,position:"relative"},children:[(0,n.jsx)(j.Z,{full:!0,visible:l}),(0,n.jsxs)("div",{className:"shadow-sm bg-cmwhite p-5",style:{borderRadius:10},children:[(0,n.jsx)("div",{className:"text-cmGrey700 ms-sm-20 mb-10",children:"Use this page to add a SMTP mail server. This designated server will be used for all outgoing emails from Sequifi."}),(0,n.jsxs)("div",{className:"w-sm-50 mx-auto mb-10",children:[(0,n.jsx)(m.ZP,{label:"From address",placeholder:"Enter address",onChange:k,value:null===t||void 0===t?void 0:t.email_from_address,name:"email_from_address",errorMessage:null===c||void 0===c?void 0:c.email_from_address}),(0,n.jsx)("div",{className:"text-cmGrey600",style:{fontSize:12},children:"The default address this server will use to send emails from"})]}),(0,n.jsxs)("div",{className:"ms-sm-20 mb-10",children:[(0,n.jsx)("div",{className:"text-black mb-3",style:{fontSize:16,fontWeight:700},children:"Server Details"}),(0,n.jsx)("div",{className:"text-cmGrey700",children:"Enter either the host name of your SMTP server ot the JNDI location of a javax.mail.session object to use."})]}),(0,n.jsxs)("div",{className:"w-sm-50 mx-auto",children:[(0,n.jsx)("div",{className:"text-black mb-3",style:{fontSize:16,fontWeight:700},children:"SMTP Host"}),(0,n.jsxs)("div",{className:"row mb-5",children:[(0,n.jsx)("div",{className:"col-sm",children:(0,n.jsx)(u.Z,{label:"Service Provider",value:null===t||void 0===t?void 0:t.service_provider,onChange:k,options:h.NZ,searching:!1,name:"service_provider",errorMessage:null===c||void 0===c?void 0:c.service_provider})}),(0,n.jsx)("div",{className:"col-sm",children:(0,n.jsx)(u.Z,{label:"Protocol",value:null===t||void 0===t?void 0:t.protocal,onChange:k,options:h.KY,searching:!1,name:"protocal",errorMessage:null===c||void 0===c?void 0:c.protocal})})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)(m.ZP,{type:m.rC.text,label:"Host Name",onChange:k,value:null===t||void 0===t?void 0:t.host_name,name:"host_name",errorMessage:null===c||void 0===c?void 0:c.host_name}),(0,n.jsx)("div",{className:"text-cmGrey600",style:{fontSize:12},children:"The SMTP host name of your mail server"})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)(m.ZP,{label:"SMTP Port",type:m.rC.number,onChange:k,value:null===t||void 0===t?void 0:t.smtp_port,name:"smtp_port",errorMessage:null===c||void 0===c?void 0:c.smtp_port}),(0,n.jsx)("div",{className:"text-cmGrey600",style:{fontSize:12},children:"Optional - SMTP port number to use. Leave black for detail (defaults: SMTP - 25, SMTPS - 465)."})]}),(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)(m.ZP,{type:m.rC.number,label:"Timeout (ms)",onChange:k,value:null===t||void 0===t?void 0:t.timeout,name:"timeout",errorMessage:null===c||void 0===c?void 0:c.timeout}),(0,n.jsx)("div",{className:"text-cmGrey600",style:{fontSize:12},children:"Timeout for every request sent from Sequifi to mail server.Leave the default or enter 0 for no timeout."})]}),(0,n.jsx)("div",{className:"d-flex align-items-center gap-5 mb-5",children:(0,n.jsx)(u.Z,{label:"Security Protocol",value:null===t||void 0===t?void 0:t.security_protocol,onChange:k,options:h.W$,searching:!1,name:"security_protocol",errorMessage:null===c||void 0===c?void 0:c.security_protocol})}),(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsx)(u.Z,{label:"Authentication method",value:null===t||void 0===t?void 0:t.authentication_method,onChange:k,options:h.kx,searching:!1,name:"authentication_method",errorMessage:null===c||void 0===c?void 0:c.authentication_method})}),"user_name/password"==(null===t||void 0===t?void 0:t.authentication_method)?(0,n.jsxs)("div",{className:"mb-sm-20 mb-10",children:[(0,n.jsx)(m.ZP,{type:m.rC.text,label:"Username",onChange:k,value:null===t||void 0===t?void 0:t.mail_user_name,name:"mail_user_name",errorMessage:null===c||void 0===c?void 0:c.mail_user_name}),(0,n.jsx)("div",{className:"text-cmGrey600",style:{fontSize:12},children:"Optional - if you use authenticated SMTP to send email, enter your username."}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(m.ZP,{type:m.rC.password,label:"Password",onChange:k,value:null===t||void 0===t?void 0:t.mail_password,name:"mail_password",errorMessage:null===c||void 0===c?void 0:c.mail_password})})]}):null,"token"==(null===t||void 0===t?void 0:t.authentication_method)?(0,n.jsxs)("div",{className:"mb-sm-20 mb-10",children:[(0,n.jsx)(m.ZP,{type:m.rC.text,label:"Token App ID",onChange:k,value:null===t||void 0===t?void 0:t.token_app_id,name:"token_app_id",errorMessage:null===c||void 0===c?void 0:c.token_app_id}),(0,n.jsx)(m.ZP,{type:m.rC.password,label:"Token App Key",onChange:k,value:null===t||void 0===t?void 0:t.token_app_key,name:"token_app_key",feedback:!1,errorMessage:null===c||void 0===c?void 0:c.token_app_key})]}):null,(0,n.jsxs)("div",{className:"d-flex gap-3 flex-center mb-10",children:[(0,n.jsx)(v.ZP,{buttonLabel:"Add Server",buttonSize:v.iY.large,padding:"px-15",onClick:w,loading:e}),(0,n.jsx)(v.ZP,{buttonLabel:"Test Server",buttonSize:v.iY.large,padding:"px-15",onClick:P,buttonType:v.JB.secondary})]})]})]}),null!==t&&void 0!==t&&t.id&&f?(0,n.jsx)(_,{show:f,handleClose:P}):null]})},C=()=>(0,n.jsx)("div",{children:"SystemNotification"}),k=[{title:"Settings/System/",path:"/",isSeparator:!1,isActive:!1}],w=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"d-xl-flex gap-5",style:{height:"75vh"},children:[(0,n.jsx)("div",{className:"w-xxl-15 w-xl-20 mb-xl-0 mb-5",children:(0,n.jsx)(c,{})}),(0,n.jsx)("div",{className:"w-xxl-85 w-xl-80",children:(0,n.jsxs)(i.Z5,{children:[(0,n.jsx)(i.AW,{path:"general",element:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.V1,{breadcrumbs:k,children:"General"}),(0,n.jsx)(o,{})]})}),(0,n.jsx)(i.AW,{path:"emails",element:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.V1,{breadcrumbs:k,children:"Emails"}),(0,n.jsx)(N,{})]})}),(0,n.jsx)(i.AW,{path:"notification",element:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.V1,{breadcrumbs:k,children:"General"}),(0,n.jsx)(C,{})]})}),(0,n.jsx)(i.AW,{index:!0,element:(0,n.jsx)(i.Fg,{to:"/settings"})})]})})]})})}}]);
//# sourceMappingURL=7275.594d7a4f.chunk.js.map